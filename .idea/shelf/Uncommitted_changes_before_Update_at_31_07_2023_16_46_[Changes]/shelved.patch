Index: app/src/main/java/com/example/meetyou/OwnProfileActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.util.Base64;\r\nimport android.view.View;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.meetyou.databinding.ActivityOwnProfileBinding;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class OwnProfileActivity extends AppCompatActivity {\r\n\r\n    private LocationManager locationManager;\r\n    private LocationListener locationListener;\r\n    ActivityOwnProfileBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityOwnProfileBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(OwnProfileActivity.this, R.color.main));\r\n\r\n        binding.nameTextView.setText(getUserName() + \", \" + String.valueOf(getUserAge()));\r\n\r\n        binding.additionalTextView.setText(getUserBio());\r\n\r\n        binding.profilePhoto.setImageBitmap(getImageBitmapFromSharedPreferences(\"photo1\"));\r\n        binding.image1.setImageBitmap(getImageBitmapFromSharedPreferences(\"photo1\"));\r\n        binding.image2.setImageBitmap(getImageBitmapFromSharedPreferences(\"photo2\"));\r\n        binding.image3.setImageBitmap(getImageBitmapFromSharedPreferences(\"photo3\"));\r\n        binding.image4.setImageBitmap(getImageBitmapFromSharedPreferences(\"photo4\"));\r\n        binding.image5.setImageBitmap(getImageBitmapFromSharedPreferences(\"photo5\"));\r\n\r\n        binding.settingButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(OwnProfileActivity.this, OptionsActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        binding.findButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(OwnProfileActivity.this, MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(Location location) {\r\n                updateLocationTextView(location);\r\n            }\r\n\r\n            @Override\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {\r\n                // Метод вызывается при изменении статуса провайдера (GPS или сеть)\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(String provider) {\r\n                // Метод вызывается, когда пользователь включает провайдер (GPS или сеть)\r\n            }\r\n\r\n            @Override\r\n            public void onProviderDisabled(String provider) {\r\n                // Метод вызывается, когда пользователь отключает провайдер (GPS или сеть)\r\n            }\r\n        };\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if (getChanges()) {\r\n            setSomethingWasChanged(false);\r\n            recreate();\r\n        }\r\n        if (locationManager != null) {\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 10000, 10, locationListener);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        if (locationManager != null) {\r\n            locationManager.removeUpdates(locationListener);\r\n        }\r\n    }\r\n\r\n    private void updateLocationTextView(Location location) {\r\n        if (location != null) {\r\n            double latitude = location.getLatitude();\r\n            double longitude = location.getLongitude();\r\n\r\n            Geocoder geocoder = new Geocoder(this, Locale.getDefault());\r\n            try {\r\n                List<Address> addresses = geocoder.getFromLocation(latitude, longitude, 1);\r\n                if (!addresses.isEmpty()) {\r\n                    String country = addresses.get(0).getCountryName();\r\n                    String city = addresses.get(0).getLocality();\r\n                    String locationString = country + \", \" + city;\r\n                    binding.locationTextView.setText(locationString);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private String getUserBio() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"bio\", \"\");\r\n    }\r\n\r\n    private int getUserAge() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getInt(\"age\", 0);\r\n    }\r\n\r\n    private String getUserName() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"name\", \"\");\r\n    }\r\n\r\n    private boolean getChanges() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getBoolean(\"isSomethingWasChanged\", false);\r\n    }\r\n\r\n    private Bitmap getImageBitmapFromSharedPreferences(String key) {\r\n        byte[] imageByteArray = getImageFromSharedPreferences(key);\r\n        if (imageByteArray != null) {\r\n            return BitmapFactory.decodeByteArray(imageByteArray, 0, imageByteArray.length);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private byte[] getImageFromSharedPreferences(String key) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        String base64Image = sharedPreferences.getString(key, null);\r\n        if (base64Image != null) {\r\n            return Base64.decode(base64Image, Base64.DEFAULT);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private void setSomethingWasChanged(boolean parameter) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"isSomethingWasChanged\", parameter);\r\n        editor.apply();\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/OwnProfileActivity.java b/app/src/main/java/com/example/meetyou/OwnProfileActivity.java
--- a/app/src/main/java/com/example/meetyou/OwnProfileActivity.java	(revision 45092e4976b806dc3f5460e7aaf0e28d588b2405)
+++ b/app/src/main/java/com/example/meetyou/OwnProfileActivity.java	(date 1690807813282)
@@ -39,7 +39,8 @@
 
         getWindow().setStatusBarColor(ContextCompat.getColor(OwnProfileActivity.this, R.color.main));
 
-        binding.nameTextView.setText(getUserName() + ", " + String.valueOf(getUserAge()));
+        String nameText = getUserName() + ", " + Integer.toString(getUserAge());
+        binding.nameTextView.setText(nameText);
 
         binding.additionalTextView.setText(getUserBio());
 
