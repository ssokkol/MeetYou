Index: app/src/main/java/com/example/meetyou/OwnProfileActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou;\r\n\r\nimport android.Manifest;\r\nimport android.content.ClipData;\r\nimport android.content.ClipboardManager;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.util.Base64;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.Toast;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport com.example.meetyou.MYFiles.Users;\r\nimport com.example.meetyou.Messager.ChatActivity;\r\nimport com.example.meetyou.databinding.ActivityOwnProfileBinding;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.squareup.picasso.Picasso;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class OwnProfileActivity extends AppCompatActivity {\r\n    public String photo1URL;\r\n    public String photo2URL;\r\n    public String photo3URL;\r\n    public String photo4URL;\r\n    public String photo5URL;\r\n    private LocationManager locationManager;\r\n    private LocationListener locationListener;\r\n\r\n    // Объект для привязки макета активности\r\n    ActivityOwnProfileBinding binding;\r\n\r\n    private DatabaseReference mDatabase;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityOwnProfileBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(OwnProfileActivity.this, R.color.main));\r\n\r\n        getName(new OnNameReceivedListener() {\r\n            @Override\r\n            public void onNameReceived(String name) {\r\n                binding.nameTextView.setText(name);\r\n            }\r\n        });\r\n\r\n        getBio(new OnBioReceivedListener() {\r\n            @Override\r\n            public void onBioReceived(String bio) {\r\n                binding.additionalTextView.setText(bio);\r\n            }\r\n        });\r\n\r\n        RelativeLayout imageOverlay = findViewById(R.id.image_overlay);\r\n        ImageView expandedImage = findViewById(R.id.expanded_image);\r\n        // Обработчик кнопки \"Настройки\", переход к активности OptionsActivity\r\n        binding.settingButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n            Intent intent = new Intent(OwnProfileActivity.this, OptionsActivity.class);\r\n            startActivity(intent);\r\n            }\r\n        });\r\n        binding.shopButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(OwnProfileActivity.this,ShopActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        // Обработчик кнопки \"Найти\", переход к активности MainActivity и завершение текущей активности\r\n        binding.findButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(OwnProfileActivity.this, MainActivity.class);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        // Получение LocationManager и установка слушателя для обновления местоположения\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(Location location) {\r\n                updateLocationTextView(location);\r\n            }\r\n\r\n            @Override\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {\r\n                // Метод вызывается при изменении статуса провайдера (GPS или сеть)\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(String provider) {\r\n                // Метод вызывается, когда пользователь включает провайдер (GPS или сеть)\r\n            }\r\n\r\n            @Override\r\n            public void onProviderDisabled(String provider) {\r\n                // Метод вызывается, когда пользователь отключает провайдер (GPS или сеть)\r\n            }\r\n        };\r\n\r\n        // Проверка наличия разрешения на доступ к местоположению, и запрос разрешения, если требуется\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);\r\n        }\r\n\r\n\r\n        binding.profilePhoto.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showImageOverlay(binding.profilePhoto, imageOverlay, expandedImage);\r\n            }\r\n        });\r\n\r\n\r\n        binding.image1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showImageOverlay(binding.image1, imageOverlay, expandedImage);\r\n            }\r\n        });\r\n\r\n\r\n        binding.image2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showImageOverlay(binding.image2, imageOverlay, expandedImage);\r\n            }\r\n        });\r\n\r\n\r\n        binding.image3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showImageOverlay(binding.image3, imageOverlay, expandedImage);\r\n            }\r\n        });\r\n\r\n\r\n        binding.image4.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showImageOverlay(binding.image4, imageOverlay, expandedImage);\r\n            }\r\n        });\r\n\r\n\r\n        binding.image5.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showImageOverlay(binding.image5, imageOverlay, expandedImage);\r\n            }\r\n        });\r\n\r\n        binding.nameTextView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String textToCopy = binding.nameTextView.getText().toString();\r\n\r\n                ClipboardManager clipboardManager = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);\r\n                ClipData clipData = ClipData.newPlainText(binding.nameTextView.getText().toString(), textToCopy);\r\n                clipboardManager.setPrimaryClip(clipData);\r\n\r\n                Toast.makeText(OwnProfileActivity.this, R.string.name_was_copied_in_clipboard, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        binding.additionalTextView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String textToCopy = binding.additionalTextView.getText().toString();\r\n\r\n                ClipboardManager clipboardManager = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);\r\n                ClipData clipData = ClipData.newPlainText(binding.additionalTextView.getText().toString(), textToCopy);\r\n                clipboardManager.setPrimaryClip(clipData);\r\n\r\n                Toast.makeText(OwnProfileActivity.this, R.string.bio_was_copied_in_clipboard, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        binding.messageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(OwnProfileActivity.this, ChatActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        // Получение данных пользователя и отображение их в представлении\r\n//        String nameText = getUserName();\r\n//        binding.nameTextView.setText(nameText);\r\n//        binding.additionalTextView.setText(getUserBio());\r\n        Users.getUserDataFromFirebase(getUID(), new Users.OnUserDataListener() {\r\n            @Override\r\n            public void onDataLoaded(String color, String userName, String bio, String photo1, String photo2, String photo3, String photo4,String photo5, String UID) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onDataLoaded(Users user) {\r\n                photo1URL = user.getPhoto1();\r\n                photo2URL = user.getPhoto2();\r\n                photo3URL = user.getPhoto3();\r\n                photo4URL = user.getPhoto4();\r\n                photo5URL = user.getPhoto5();\r\n            }\r\n\r\n            @Override\r\n            public void onDataNotAvailable() {\r\n                // Обработка случая, если данные не удалось загрузить\r\n            }\r\n        });\r\n\r\n        customPhotoLoadingToClient(\"photo1\", binding.profilePhoto);\r\n        customPhotoLoadingToClient(\"photo1\", binding.image1);\r\n        customPhotoLoadingToClient(\"photo2\", binding.image2);\r\n        customPhotoLoadingToClient(\"photo3\", binding.image3);\r\n        customPhotoLoadingToClient(\"photo4\", binding.image4);\r\n        customPhotoLoadingToClient(\"photo5\", binding.image5);\r\n\r\n        // Проверка наличия разрешения на доступ к местоположению и запрос обновлений местоположения\r\n        if (locationManager != null) {\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 10000, 10, locationListener);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        // Остановка обновлений местоположения при остановке активности\r\n        if (locationManager != null) {\r\n            locationManager.removeUpdates(locationListener);\r\n        }\r\n    }\r\n\r\n    // Обновление текстового представления с местоположением\r\n    private void updateLocationTextView(Location location) {\r\n        if (location != null) {\r\n            double latitude = location.getLatitude();\r\n            double longitude = location.getLongitude();\r\n\r\n            Geocoder geocoder = new Geocoder(this, Locale.getDefault());\r\n            try {\r\n                List<Address> addresses = geocoder.getFromLocation(latitude, longitude, 1);\r\n                if (!addresses.isEmpty()) {\r\n                    String country = addresses.get(0).getCountryName();\r\n                    String city = addresses.get(0).getLocality();\r\n                    String locationString = country + \", \" + city;\r\n                    binding.locationTextView.setText(locationString);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    // Методы для получения данных пользователя из SharedPreferences\r\n//    private String getUserBio() {\r\n//        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n//        return sharedPreferences.getString(\"bio\", \"\");\r\n//    }\r\n\r\n//    private int getUserAge() {\r\n//        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n//        return sharedPreferences.getInt(\"age\", 0);\r\n//    }\r\n\r\n//    private String getUserName() {\r\n//        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n//        return sharedPreferences.getString(\"name\", \"\");\r\n//    }\r\n\r\n    private boolean getChanges() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getBoolean(\"isSomethingWasChanged\", false);\r\n    }\r\n\r\n    // Преобразование закодированного изображения в Bitmap\r\n    private Bitmap getImageBitmapFromSharedPreferences(String key) {\r\n        byte[] imageByteArray = getImageFromSharedPreferences(key);\r\n        if (imageByteArray != null) {\r\n            return BitmapFactory.decodeByteArray(imageByteArray, 0, imageByteArray.length);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Получение закодированного изображения из SharedPreferences\r\n    private byte[] getImageFromSharedPreferences(String key) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        String base64Image = sharedPreferences.getString(key, null);\r\n        if (base64Image != null) {\r\n            return Base64.decode(base64Image, Base64.DEFAULT);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Установка флага, указывающего на наличие изменений\r\n    private void setSomethingWasChanged(boolean parameter) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"isSomethingWasChanged\", parameter);\r\n        editor.apply();\r\n    }\r\n\r\n    private void customPhotoLoadingToClient(String photoName, ImageView imageView) {\r\n        DatabaseReference Images = FirebaseDatabase.getInstance().getReference(\"Users\").child(getUID()).child(photoName);\r\n        Images.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String value = snapshot.getValue(String.class);\r\n                // Загрузка изображения с помощью библиотеки Picasso\r\n                Picasso.get().load(value).into(imageView);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // Обработка ошибки, если загрузка изображения не удалась\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void showImageOverlay(ImageView imageView, RelativeLayout imageOverlay, ImageView expandedImage) {\r\n        expandedImage.setImageDrawable(imageView.getDrawable());\r\n        imageOverlay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                imageOverlay.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n        imageOverlay.setVisibility(View.VISIBLE);\r\n        imageOverlay.setAlpha(0f);\r\n        imageOverlay.animate().alpha(1f).setDuration(300).start();\r\n    }\r\n\r\n    private void getName(final OnNameReceivedListener listener) {\r\n        DatabaseReference nameRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(getUID()).child(\"name\");\r\n        nameRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String name = snapshot.getValue(String.class);\r\n                if (name != null) {\r\n                    listener.onNameReceived(name);\r\n                } else {\r\n                    listener.onNameReceived(\" \");\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                listener.onNameReceived(\" \");\r\n            }\r\n        });\r\n    }\r\n    interface OnNameReceivedListener {\r\n        void onNameReceived(String name);\r\n    }\r\n\r\n    private void getBio(final OnBioReceivedListener listener) {\r\n        DatabaseReference nameRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(getUID()).child(\"bio\");\r\n        nameRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String bio = snapshot.getValue(String.class);\r\n                if (bio != null) {\r\n                    listener.onBioReceived(bio);\r\n                } else {\r\n                    listener.onBioReceived(\" \");\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                listener.onBioReceived(\" \");\r\n            }\r\n        });\r\n    }\r\n\r\n    interface OnBioReceivedListener {\r\n        void onBioReceived(String bio);\r\n    }\r\n    // Метод для получения UID пользователя из SharedPreferences\r\n    private String getUID() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"UID\", \"\");\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/OwnProfileActivity.java b/app/src/main/java/com/example/meetyou/OwnProfileActivity.java
--- a/app/src/main/java/com/example/meetyou/OwnProfileActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/OwnProfileActivity.java	(date 1691701619728)
@@ -21,12 +21,14 @@
 import android.widget.ImageView;
 import android.widget.RelativeLayout;
 import android.widget.Toast;
+
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.core.app.ActivityCompat;
 import androidx.core.content.ContextCompat;
+
 import com.example.meetyou.MYFiles.Users;
-import com.example.meetyou.Messager.ChatActivity;
+import com.example.meetyou.Messager.MessengerActivity;
 import com.example.meetyou.databinding.ActivityOwnProfileBinding;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -34,6 +36,7 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
 import com.squareup.picasso.Picasso;
+
 import java.io.IOException;
 import java.util.List;
 import java.util.Locale;
@@ -209,7 +212,7 @@
         binding.messageButton.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-                Intent intent = new Intent(OwnProfileActivity.this, ChatActivity.class);
+                Intent intent = new Intent(OwnProfileActivity.this, MessengerActivity.class);
                 startActivity(intent);
             }
         });
@@ -389,7 +392,7 @@
             }
         });
     }
-    interface OnNameReceivedListener {
+    public interface OnNameReceivedListener {
         void onNameReceived(String name);
     }
 
Index: app/src/main/java/com/example/meetyou/MYFiles/Users.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou.MYFiles;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Users {\r\n    String UID, email, name, bio, height, weight, gender, findGender, findHeight, findWeight, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5;\r\n    int age, boosts, likes, megasymps;\r\n\r\n    boolean verified;\r\n\r\n    public Users() {\r\n    }\r\n\r\n    public Users(String UID, String name, String bio, String height, String weight, String gender, String findGender, String findHeight, String findWeight, String hobbies, String target,\r\n                 String color, String status,\r\n                 String photo1, String photo2, String photo3, String photo4, String photo5, int age, int boosts, int likes, int megasymps, boolean verified)\r\n    {\r\n        this.UID = UID;\r\n        this.name = name;\r\n        this.bio = bio;\r\n        this.height = height;\r\n        this.weight = weight;\r\n        this.gender = gender;\r\n        this.findGender = findGender;\r\n        this.findHeight = findHeight;\r\n        this.findWeight = findWeight;\r\n        this.hobbies = hobbies;\r\n        this.target = target;\r\n        this.color = color;\r\n        this.status = status;\r\n        this.photo1 = photo1;\r\n        this.photo2 = photo2;\r\n        this.photo3 = photo3;\r\n        this.photo4 = photo4;\r\n        this.photo5 = this.photo5;\r\n        this.age = age;\r\n        this.boosts = boosts;\r\n        this.likes = likes;\r\n        this.megasymps = megasymps;\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getFindHeight() {\r\n        return findHeight;\r\n    }\r\n\r\n    public void setFindHeight(String findHeight) {\r\n        this.findHeight = findHeight;\r\n    }\r\n\r\n    public String getFindWeight() {\r\n        return findWeight;\r\n    }\r\n\r\n    public void setFindWeight(String findWeight) {\r\n        this.findWeight = findWeight;\r\n    }\r\n\r\n    public String getPhoto1() {\r\n        return photo1;\r\n    }\r\n\r\n    public void setPhoto1(String photo1) {\r\n        this.photo1 = photo1;\r\n    }\r\n\r\n    public String getPhoto2() {\r\n        return photo2;\r\n    }\r\n\r\n    public void setPhoto2(String photo2) {\r\n        this.photo2 = photo2;\r\n    }\r\n\r\n    public String getPhoto3() {\r\n        return photo3;\r\n    }\r\n\r\n    public void setPhoto3(String photo3) {\r\n        this.photo3 = photo3;\r\n    }\r\n\r\n    public String getPhoto4() {\r\n        return photo4;\r\n    }\r\n\r\n    public void setPhoto4(String photo4) {\r\n        this.photo4 = photo4;\r\n    }\r\n\r\n    public String getPhoto5() {\r\n        return photo5;\r\n    }\r\n\r\n    public void setPhoto5(String photo5) {\r\n        this.photo5 = photo5;\r\n    }\r\n\r\n    public int getBoosts() {\r\n        return boosts;\r\n    }\r\n\r\n    public void setBoosts(int boosts) {\r\n        this.boosts = boosts;\r\n    }\r\n\r\n    public int getLikes() {\r\n        return likes;\r\n    }\r\n\r\n    public void setLikes(int likes) {\r\n        this.likes = likes;\r\n    }\r\n\r\n    public int getMegasymps() {\r\n        return megasymps;\r\n    }\r\n\r\n    public void setMegasymps(int megasymps) {\r\n        this.megasymps = megasymps;\r\n    }\r\n\r\n    public boolean isVerified() {\r\n        return verified;\r\n    }\r\n\r\n    public void setVerified(boolean verified) {\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getUID() {\r\n        return UID;\r\n    }\r\n\r\n    public void setUID(String UID) {\r\n        this.UID = UID;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getBio() {\r\n        return bio;\r\n    }\r\n\r\n    public void setBio(String bio) {\r\n        this.bio = bio;\r\n    }\r\n\r\n    public String getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(String height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public String getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(String weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getFindGender() {\r\n        return findGender;\r\n    }\r\n\r\n    public void setFindGender(String findGender) {\r\n        this.findGender = findGender;\r\n    }\r\n\r\n    public String getHobbies() {\r\n        return hobbies;\r\n    }\r\n\r\n    public void setHobbies(String hobbies) {\r\n        this.hobbies = hobbies;\r\n    }\r\n\r\n    public String getTarget() {\r\n        return target;\r\n    }\r\n\r\n    public void setTarget(String target) {\r\n        this.target = target;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public static void addLikedUser(String currentUserUID, String likedUserUID) {\r\n        DatabaseReference likedRef = FirebaseDatabase.getInstance().getReference(\"Liked\").child(currentUserUID);\r\n        likedRef.child(likedUserUID).setValue(true);\r\n    }\r\n\r\n    public static void updateUID(String UID){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"UID\");\r\n        userRef.setValue(UID);\r\n    }\r\n\r\n    public static void updateUserName(String UID, String newName) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"name\");\r\n        userRef.setValue(newName);\r\n    }\r\n\r\n    public static void updateUserBio(String UID, String newBio) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"bio\");\r\n        userRef.setValue(newBio);\r\n    }\r\n\r\n    public static void updateUserHeight(String UID, String newHeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"height\");\r\n        userRef.setValue(newHeight);\r\n    }\r\n\r\n    public static void updateUserWeight(String UID, String newWeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"weight\");\r\n        userRef.setValue(newWeight);\r\n    }\r\n\r\n    public static void updateUserGender(String UID, String newGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"gender\");\r\n        userRef.setValue(newGender);\r\n    }\r\n\r\n    public static void updateUserFindGender(String UID, String newFindGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findGender\");\r\n        userRef.setValue(newFindGender);\r\n    }\r\n\r\n    public static void updateUserHobbies(String UID, String newHobbies) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"hobbies\");\r\n        userRef.setValue(newHobbies);\r\n    }\r\n\r\n    public static void updateUserTarget(String UID, String newTarget) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"target\");\r\n        userRef.setValue(newTarget);\r\n    }\r\n\r\n    public static void updateUserColor(String UID, String newColor) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"color\");\r\n        userRef.setValue(newColor);\r\n    }\r\n\r\n    public static void updateUserStatus(String UID, String newStatus) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"status\");\r\n        userRef.setValue(newStatus);\r\n    }\r\n\r\n    public static void updateUserAge(String UID, int newAge) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"age\");\r\n        userRef.setValue(newAge);\r\n    }\r\n\r\n    public static void updateVerification(String UID, boolean newVerification){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"verified\");\r\n        userRef.setValue(newVerification);\r\n    }\r\n\r\n\r\n    public static void updateUserPhoto(String UID, String photoName,String photoURL){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(photoName);\r\n        userRef.setValue(photoURL);\r\n    }\r\n\r\n\r\n    public static void updateUserFindHeight(String UID, String newFindHeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findHeight\");\r\n        userRef.setValue(newFindHeight);\r\n    }\r\n\r\n    public static void updateUserFindWeight(String UID, String newFindWeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findWeight\");\r\n        userRef.setValue(newFindWeight);\r\n    }\r\n\r\n    public static void getUserDataFromFirebase(String UID, final OnUserDataListener listener) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Users user = dataSnapshot.getValue(Users.class);\r\n                if (user != null) {\r\n                    listener.onDataLoaded(user);\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n\r\n    public interface OnUserDataListener {\r\n\r\n        void onDataLoaded(String color, String userName, String userBio, String photo1, String photo2, String photo3, String photo4,String photo5, String UID);\r\n\r\n        void onDataLoaded(Users user);\r\n        void onDataNotAvailable();\r\n    }\r\n\r\n    public static void saveUserDataToSharedPreferences(Context context, String UID) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Users user = dataSnapshot.getValue(Users.class);\r\n\r\n                if (user != null) {\r\n                    SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n                    SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                    editor.putString(\"name\", user.getName());\r\n                    editor.putString(\"bio\", user.getBio());\r\n                    editor.putString(\"height\", user.getHeight());\r\n                    editor.putString(\"weight\", user.getWeight());\r\n                    editor.putString(\"gender\", user.getGender());\r\n                    editor.putString(\"findGender\", user.getFindGender());\r\n                    editor.putString(\"findHeight\", user.getFindHeight());\r\n                    editor.putString(\"findWeight\", user.getFindWeight());\r\n                    editor.putString(\"hobbies\", user.getHobbies());\r\n                    editor.putString(\"target\", user.getTarget());\r\n                    editor.putString(\"color\", user.getColor());\r\n                    editor.putString(\"status\", user.getStatus());\r\n                    editor.putString(\"photo1\", user.getPhoto1());\r\n                    editor.putString(\"photo2\", user.getPhoto2());\r\n                    editor.putString(\"photo3\", user.getPhoto3());\r\n                    editor.putString(\"photo4\", user.getPhoto4());\r\n                    editor.putString(\"photo5\", user.getPhoto5());\r\n                    editor.putInt(\"age\", user.getAge());\r\n                    editor.putInt(\"boosts\", user.getBoosts());\r\n                    editor.putInt(\"likes\", user.getLikes());\r\n                    editor.putInt(\"megasymps\", user.getMegasymps());\r\n                    editor.putBoolean(\"verified\", user.isVerified());\r\n                    editor.apply();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public static Users getUserDataFromSharedPreferences(Context context) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n        String UID = sharedPreferences.getString(\"UID\", \"\");\r\n        String name = sharedPreferences.getString(\"name\", \"\");\r\n        String bio = sharedPreferences.getString(\"bio\", \"\");\r\n        String height = sharedPreferences.getString(\"height\", \"\");\r\n        String weight = sharedPreferences.getString(\"weight\", \"\");\r\n        String gender = sharedPreferences.getString(\"gender\", \"\");\r\n        String findGender = sharedPreferences.getString(\"findGender\", \"\");\r\n        String findHeight = sharedPreferences.getString(\"findHeight\", \"\");\r\n        String findWeight = sharedPreferences.getString(\"findWeight\", \"\");\r\n        String hobbies = sharedPreferences.getString(\"hobbies\", \"\");\r\n        String target = sharedPreferences.getString(\"target\", \"\");\r\n        String color = sharedPreferences.getString(\"color\", \"\");\r\n        String status = sharedPreferences.getString(\"status\", \"\");\r\n        String photo1 = sharedPreferences.getString(\"photo1\", \"\");\r\n        String photo2 = sharedPreferences.getString(\"photo2\", \"\");\r\n        String photo3 = sharedPreferences.getString(\"photo3\", \"\");\r\n        String photo4 = sharedPreferences.getString(\"photo4\", \"\");\r\n        String photo5 = sharedPreferences.getString(\"photo5\", \"\");\r\n        int age = sharedPreferences.getInt(\"age\", 0);\r\n        int boosts = sharedPreferences.getInt(\"boosts\", 0);\r\n        int likes = sharedPreferences.getInt(\"likes\", 0);\r\n        int megasymps = sharedPreferences.getInt(\"megasymps\", 0);\r\n        boolean verified = sharedPreferences.getBoolean(\"verified\", false);\r\n\r\n        return new Users(UID, name, bio, height, weight, gender, findGender, findHeight, findWeight, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5, age, boosts, likes, megasymps, verified);\r\n    }\r\n\r\n    private static String getRandomGender() {\r\n        Random random = new Random();\r\n        int randomValue = random.nextInt(2);\r\n\r\n        if (randomValue == 0) {\r\n            return \"male\";\r\n        } else {\r\n            return \"female\";\r\n        }\r\n    }\r\n\r\n    public static void getRandomUserFromPool(String gender, String findGender, String findHeight, String findWeight, final OnUserDataListener listener) {\r\n        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        Query query = usersRef.orderByChild(\"gender\").equalTo(findGender.equals(\"any\") ? getRandomGender() : findGender);\r\n\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                List<Users> matchingUsers = new ArrayList<>();\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    Users user = snapshot.getValue(Users.class);\r\n                    if (user != null && user.getHeight().equals(findHeight) && user.getWeight().equals(findWeight)) {\r\n                        matchingUsers.add(user);\r\n                    }\r\n                }\r\n\r\n                if (!matchingUsers.isEmpty()) {\r\n                    int randomIndex = new Random().nextInt(matchingUsers.size());\r\n                    Users randomUser = matchingUsers.get(randomIndex);\r\n                    listener.onDataLoaded(randomUser.getColor(), randomUser.getName(), randomUser.getBio(),\r\n                            randomUser.getPhoto1(), randomUser.getPhoto2(), randomUser.getPhoto3(), randomUser.getPhoto4(), randomUser.getPhoto5(), randomUser.getUID());\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/MYFiles/Users.java b/app/src/main/java/com/example/meetyou/MYFiles/Users.java
--- a/app/src/main/java/com/example/meetyou/MYFiles/Users.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/MYFiles/Users.java	(date 1691747717954)
@@ -3,6 +3,9 @@
 import android.content.Context;
 import android.content.SharedPreferences;
 
+import androidx.annotation.NonNull;
+
+import com.example.meetyou.Messager.ChatItem;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
@@ -442,7 +445,7 @@
         }
     }
 
-    public static void getRandomUserFromPool(String gender, String findGender, String findHeight, String findWeight, final OnUserDataListener listener) {
+    public static void getRandomUserFromPool(String gender, String findGender, String findHeight, String findWeight, String targetUID, final OnUserDataListener listener) {
         DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference("Users");
         Query query = usersRef.orderByChild("gender").equalTo(findGender.equals("any") ? getRandomGender() : findGender);
 
@@ -458,10 +461,18 @@
                 }
 
                 if (!matchingUsers.isEmpty()) {
-                    int randomIndex = new Random().nextInt(matchingUsers.size());
-                    Users randomUser = matchingUsers.get(randomIndex);
-                    listener.onDataLoaded(randomUser.getColor(), randomUser.getName(), randomUser.getBio(),
-                            randomUser.getPhoto1(), randomUser.getPhoto2(), randomUser.getPhoto3(), randomUser.getPhoto4(), randomUser.getPhoto5(), randomUser.getUID());
+                    Users randomUser = null;
+                    do {
+                        int randomIndex = new Random().nextInt(matchingUsers.size());
+                        randomUser = matchingUsers.get(randomIndex);
+                    } while (randomUser != null && randomUser.getUID().equals(targetUID));
+
+                    if (randomUser != null) {
+                        listener.onDataLoaded(randomUser.getColor(), randomUser.getName(), randomUser.getBio(),
+                                randomUser.getPhoto1(), randomUser.getPhoto2(), randomUser.getPhoto3(), randomUser.getPhoto4(), randomUser.getPhoto5(), randomUser.getUID());
+                    } else {
+                        listener.onDataNotAvailable();
+                    }
                 } else {
                     listener.onDataNotAvailable();
                 }
@@ -474,4 +485,71 @@
         });
     }
 
+
+
+    //CHATTING с коментариями для эмирки, хотя, я надеюсь, что он сюды суваться не будет
+    public static void updateUserLikes(String currentUserPhoto, String likedUserPhoto,String currentUserUID, String likedUserUID, Context context) {
+        String chatName = currentUserUID + "_" + likedUserUID;
+        DatabaseReference currentUserRef = FirebaseDatabase.getInstance().getReference("Users").child(currentUserUID);
+        DatabaseReference likedUserRef = FirebaseDatabase.getInstance().getReference("Users").child(likedUserUID);
+
+        // Проверяем, был ли пользователь уже лайкнут
+        currentUserRef.child("likedUsers").child(likedUserUID).addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {
+                if (dataSnapshot.exists()) {
+                    // Пользователь уже был лайкнут, ничего не делаем
+                    return;
+                }
+
+                // Если пользователь еще не лайкал этого человека, добавляем лайк
+                currentUserRef.child("likedUsers").child(likedUserUID).setValue(true);
+
+                likedUserRef.child("likedUsers").child(currentUserUID).addListenerForSingleValueEvent(new ValueEventListener() {
+                    @Override
+                    public void onDataChange(@NonNull DataSnapshot likedUserSnapshot) {
+                        if (likedUserSnapshot.exists()) {
+                            // Оба пользователей лайкнули друг друга, проверяем наличие чата
+                            DatabaseReference chatCheckRef = FirebaseDatabase.getInstance().getReference("Chats");
+
+                            chatCheckRef.orderByChild(currentUserUID + "/" + likedUserUID).equalTo(true).addListenerForSingleValueEvent(new ValueEventListener() {
+                                @Override
+                                public void onDataChange(@NonNull DataSnapshot chatSnapshot) {
+                                    if (!chatSnapshot.exists()) {
+                                        // Чата еще нет, создаем чат
+                                        DatabaseReference chatRef = FirebaseDatabase.getInstance().getReference("Chats").child(chatName);
+                                        String chatUID = chatRef.getKey();
+
+                                        ChatItem currentUserChat = new ChatItem(chatName,currentUserPhoto, likedUserPhoto, currentUserUID, likedUserUID, "Hello there!", "Hello there!");
+//                                        ChatItem likedUserChat = new ChatItem(R.drawable.photo_1, currentUserUID, null);
+
+                                        chatRef.setValue(currentUserChat);
+//                                        chatRef.child(likedUserUID).setValue(likedUserChat);
+
+                                        NotificationHelper.showCustomNotification(context, "LOVE", "You find your two-sided like!", null, 0, 0, 0, 0);
+                                    }
+                                }
+
+                                @Override
+                                public void onCancelled(@NonNull DatabaseError error) {
+                                    // Обработка ошибок, если не удалось проверить наличие чата
+                                }
+                            });
+                        }
+                    }
+
+                    @Override
+                    public void onCancelled(@NonNull DatabaseError databaseError) {
+                        // Обработка ошибок, если не удалось получить информацию о пользователях
+                    }
+                });
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError databaseError) {
+                // Обработка ошибок, если не удалось проверить наличие лайка
+            }
+        });
+    }
+
 }
Index: app/src/main/java/com/example/meetyou/Messager/MessengerActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou.Messager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.meetyou.R;\r\n\r\npublic class MessengerActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_messenger);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/Messager/MessengerActivity.java b/app/src/main/java/com/example/meetyou/Messager/MessengerActivity.java
--- a/app/src/main/java/com/example/meetyou/Messager/MessengerActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/Messager/MessengerActivity.java	(date 1691747767008)
@@ -1,16 +1,90 @@
 package com.example.meetyou.Messager;
 
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.content.pm.ActivityInfo;
 import android.os.Bundle;
+import android.view.View;
+import android.widget.ListView;
 
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.core.content.ContextCompat;
 
+import com.example.meetyou.OptionsActivity;
 import com.example.meetyou.R;
+import com.example.meetyou.databinding.ActivityMessengerBinding;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+
+import java.util.ArrayList;
 
 public class MessengerActivity extends AppCompatActivity {
+    ActivityMessengerBinding binding;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_messenger);
+        binding = ActivityMessengerBinding.inflate(getLayoutInflater());
+        setContentView(binding.getRoot());
+        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);
+
+        getWindow().setStatusBarColor(ContextCompat.getColor(this, R.color.main));
+        FirebaseDatabase database = FirebaseDatabase.getInstance();
+        DatabaseReference messagesRef = database.getReference("Chats");
+
+        ArrayList<ChatItem> chatItems = new ArrayList<>();
+
+        messagesRef.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(DataSnapshot dataSnapshot) {
+                for (DataSnapshot chatSnapshot : dataSnapshot.getChildren()) {
+                    String chatUID = chatSnapshot.child("chatUID").getValue(String.class);
+                    String photo1 = chatSnapshot.child("photo1").getValue(String.class);
+                    String photo2 = chatSnapshot.child("photo2").getValue(String.class);
+                    String name1 = chatSnapshot.child("name1").getValue(String.class);
+                    String name2 = chatSnapshot.child("name2").getValue(String.class);
+                    String message1 = chatSnapshot.child("message1").getValue(String.class);
+                    String message2 = chatSnapshot.child("message2").getValue(String.class);
+                    chatItems.add(new ChatItem(chatUID, photo1, photo2, name1, name2, message1, message2));
+                }
+
+                ChatAdapter chatAdapter = new ChatAdapter(MessengerActivity.this, chatItems);
+
+                ListView chatsListView = findViewById(R.id.chats_list_view);
+                chatsListView.setAdapter(chatAdapter);
+            }
+
+            @Override
+            public void onCancelled(DatabaseError databaseError) {
+            }
+        });
+
+        binding.profileButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                finish();
+            }
+        });
+
+        binding.settingButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                Intent intent = new Intent(MessengerActivity.this, OptionsActivity.class);
+                startActivity(intent);
+            }
+        });
+    }
+
+    private String getChatUID(){
+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
+        return sharedPreferences.getString("chatUID", "");
+    }
+
+    private String getUID() {
+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
+        return sharedPreferences.getString("UID", "");
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_messenger.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Messager.MessengerActivity\">\r\n    <ListView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@+id/main_header\"\r\n        >\r\n\r\n    </ListView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/main_header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"42dp\"\r\n        android:orientation=\"horizontal\"\r\n        android:elevation=\"15dp\"\r\n        android:background=\"@android:color/white\">\r\n        <TextView\r\n            android:id=\"@+id/meet\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_marginLeft=\"25dp\"\r\n            android:gravity=\"center_vertical\"\r\n            android:layout_alignParentLeft=\"true\"\r\n            android:text=\"meet\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\"\r\n            android:textColor=\"#2C59CC\"/>\r\n        <TextView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_marginLeft=\"40dp\"\r\n            android:gravity=\"center_vertical\"\r\n            android:layout_alignLeft=\"@+id/meet\"\r\n            android:text=\"you\"\r\n            android:textSize=\"16sp\"\r\n            android:textColor=\"#000000\"\r\n            android:paddingRight=\"16dp\"/>\r\n        <FrameLayout\r\n            android:layout_width=\"28dp\"\r\n            android:layout_height=\"42dp\"\r\n            android:layout_alignRight=\"@+id/settings_layout\"\r\n            android:layout_marginRight=\"35dp\"\r\n            android:layout_marginLeft=\"5dp\">\r\n            <ImageView\r\n                android:id=\"@+id/imageView2\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:scaleType=\"fitCenter\"\r\n                app:srcCompat=\"@drawable/settingsbutton\" />\r\n            <Button\r\n                android:id=\"@+id/message_button\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:background=\"@android:color/transparent\" />\r\n        </FrameLayout>\r\n        <FrameLayout\r\n            android:id=\"@+id/settings_layout\"\r\n            android:layout_width=\"28dp\"\r\n            android:layout_height=\"42dp\"\r\n            android:layout_alignParentRight=\"true\"\r\n            android:layout_marginLeft=\"0dp\"\r\n            android:layout_marginRight=\"15dp\">\r\n            <ImageView\r\n                android:id=\"@+id/imageView4\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:scaleType=\"fitCenter\"\r\n                app:srcCompat=\"@drawable/profilebutton\" />\r\n            <Button\r\n                android:id=\"@+id/setting_button\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:background=\"@android:color/transparent\"\r\n                />\r\n        </FrameLayout>\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_messenger.xml b/app/src/main/res/layout/activity_messenger.xml
--- a/app/src/main/res/layout/activity_messenger.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/layout/activity_messenger.xml	(date 1691711448063)
@@ -4,8 +4,10 @@
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
-    tools:context=".Messager.MessengerActivity">
+    tools:context=".Messager.MessengerActivity"
+    android:background="@color/white">
     <ListView
+        android:id="@+id/chats_list_view"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:layout_below="@+id/main_header"
@@ -54,7 +56,7 @@
                 android:scaleType="fitCenter"
                 app:srcCompat="@drawable/settingsbutton" />
             <Button
-                android:id="@+id/message_button"
+                android:id="@+id/setting_button"
                 android:layout_width="match_parent"
                 android:layout_height="match_parent"
                 android:background="@android:color/transparent" />
@@ -73,7 +75,7 @@
                 android:scaleType="fitCenter"
                 app:srcCompat="@drawable/profilebutton" />
             <Button
-                android:id="@+id/setting_button"
+                android:id="@+id/profile_button"
                 android:layout_width="match_parent"
                 android:layout_height="match_parent"
                 android:background="@android:color/transparent"
Index: app/src/main/java/com/example/meetyou/Messager/ChatActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou.Messager;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.R;\r\nimport com.example.meetyou.StartActivity;\r\nimport com.example.meetyou.databinding.ActivityChatBinding;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.database.annotations.Nullable;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ChatActivity extends AppCompatActivity {\r\n\r\n    private ActivityChatBinding binding;\r\n    private MessageAdapter messageAdapter;\r\n    private List<Message> messageList = new ArrayList<>();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityChatBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        getWindow().setStatusBarColor(getColor(R.color.main));\r\n\r\n        if (FirebaseAuth.getInstance().getCurrentUser() == null) {\r\n            NotificationHelper.showCustomNotification(ChatActivity.this, null, getString(R.string.you_are_not_signed_in_message), null, 0, 0, 0, 0);\r\n            FirebaseAuth.getInstance().signOut();\r\n            Intent intent = new Intent(ChatActivity.this, StartActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            startActivity(intent);\r\n            finish();\r\n        } else {\r\n            initRecyclerView();\r\n            binding.sendMessageButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String messageText = binding.messageText.getText().toString().trim();\r\n                    if (messageText.equals(\"\")) return;\r\n                    FirebaseDatabase.getInstance().getReference().child(\"Users\").child(getUID()).child(\"Messages\").child(getUID()+\"_to_\").push().setValue(new Message(getUID(), messageText));\r\n                    binding.messageText.setText(\"\");\r\n                }\r\n            });\r\n\r\n            binding.goBackButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    finish();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void initRecyclerView() {\r\n        RecyclerView messagesRecyclerView = findViewById(R.id.messages_list);\r\n        messagesRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        messageAdapter = new MessageAdapter(messageList, getUID());\r\n        messagesRecyclerView.setAdapter(messageAdapter);\r\n        displayAllMessages();\r\n    }\r\n\r\n    private void displayAllMessages() {\r\n        FirebaseDatabase.getInstance().getReference().child(\"Users\").child(getUID()).child(\"Messages\").child(getUID()+\"_to_\").addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n                Message message = dataSnapshot.getValue(Message.class);\r\n                if (message != null) {\r\n                    messageList.add(message);\r\n                    messageAdapter.notifyDataSetChanged();\r\n\r\n                    RecyclerView messagesRecyclerView = findViewById(R.id.messages_list);\r\n                    messagesRecyclerView.scrollToPosition(messageList.size() - 1);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot dataSnapshot) {\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            }\r\n        });\r\n        messageList.clear();\r\n    }\r\n\r\n    private void customPhotoLoadingToClient(String photoName, ImageView imageView) {\r\n        DatabaseReference Images = FirebaseDatabase.getInstance().getReference(\"Users\").child(getUID()).child(photoName);\r\n        Images.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String value = snapshot.getValue(String.class);\r\n                Picasso.get().load(value).into(imageView);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }\r\n\r\n    private String getUID() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"UID\", \"\");\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/Messager/ChatActivity.java b/app/src/main/java/com/example/meetyou/Messager/ChatActivity.java
--- a/app/src/main/java/com/example/meetyou/Messager/ChatActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/Messager/ChatActivity.java	(date 1691667587006)
@@ -2,12 +2,14 @@
 
 import android.content.Intent;
 import android.content.SharedPreferences;
+import android.content.pm.ActivityInfo;
 import android.os.Bundle;
 import android.view.View;
 import android.widget.ImageView;
 
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.core.content.ContextCompat;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 
@@ -39,7 +41,9 @@
         super.onCreate(savedInstanceState);
         binding = ActivityChatBinding.inflate(getLayoutInflater());
         setContentView(binding.getRoot());
-        getWindow().setStatusBarColor(getColor(R.color.main));
+        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);
+
+        getWindow().setStatusBarColor(ContextCompat.getColor(this, R.color.main));
 
         if (FirebaseAuth.getInstance().getCurrentUser() == null) {
             NotificationHelper.showCustomNotification(ChatActivity.this, null, getString(R.string.you_are_not_signed_in_message), null, 0, 0, 0, 0);
Index: app/src/main/java/com/example/meetyou/DeleteAccountActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.View;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.meetyou.databinding.ActivityDeleteAccountBinding;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.UserInfo;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\nimport java.util.List;\r\n\r\npublic class DeleteAccountActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth mAuth;\r\n\r\n    ActivityDeleteAccountBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityDeleteAccountBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\r\n\r\n        getWindow().setStatusBarColor(getColor(R.color.main));\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference usersRef = database.getReference(\"Users\");\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        FirebaseStorage storage = FirebaseStorage.getInstance();\r\n        StorageReference folderReference = storage.getReference().child(\"/\"+getUID());\r\n        DatabaseReference userRef = usersRef.child(getUID());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n        binding.confirmPasswordEditText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                checkEditText();\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n            }\r\n        });\r\n\r\n        binding.confirmButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String enteredPassword = binding.confirmPasswordEditText.getText().toString().trim();\r\n                FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n                if (firebaseUser != null) {\r\n                    List<? extends UserInfo> providerData = firebaseUser.getProviderData();\r\n\r\n                    for (UserInfo userInfo : providerData) {\r\n                        if (userInfo.getProviderId().equals(\"password\")) {\r\n                            String userPassword = userInfo.getUid();\r\n\r\n                            if (userPassword.equals(enteredPassword)) {\r\n                                userRef.removeValue();\r\n                                folderReference.delete();\r\n                                clearUserCredentials();\r\n                                currentUser.delete();\r\n                                Intent intent = new Intent(DeleteAccountActivity.this, StartActivity.class);\r\n                                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            } else {\r\n\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkEditText(){\r\n        if(binding.confirmPasswordEditText.length() >= 7){\r\n            binding.confirmButton.setBackgroundResource(R.drawable.button_background_blue);\r\n            binding.confirmButton.setTextColor(getColor(R.color.white));\r\n        } else{\r\n            binding.confirmButton.setBackgroundResource(R.drawable.button_background_gray);\r\n            binding.confirmButton.setTextColor(getColor(R.color.neutral_dark_gray));\r\n        }\r\n    }\r\n\r\n    private void clearUserCredentials() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.remove(\"email\");\r\n        editor.remove(\"password\");\r\n        editor.remove(\"remember_me\");\r\n        editor.apply();\r\n    }\r\n\r\n    private String getUID() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"UID\", \"\");\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/DeleteAccountActivity.java b/app/src/main/java/com/example/meetyou/DeleteAccountActivity.java
--- a/app/src/main/java/com/example/meetyou/DeleteAccountActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/DeleteAccountActivity.java	(date 1691748720535)
@@ -93,6 +93,12 @@
                 }
             }
         });
+        binding.goBackButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                finish();
+            }
+        });
     }
 
     private void checkEditText(){
Index: app/src/main/java/com/example/meetyou/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.MYFiles.PhotoAdapter;\r\nimport com.example.meetyou.MYFiles.Users;\r\nimport com.example.meetyou.Messager.ChatActivity;\r\nimport com.example.meetyou.databinding.ActivityMainBinding;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private List<String> currentUrls = new ArrayList<>();\r\n    FirebaseAuth mAuth;\r\n    @NonNull ActivityMainBinding binding;\r\n    String gender;\r\n    String findGender;\r\n    String findWeight;\r\n    String findHeight;\r\n    Users user = new Users();\r\n    String foundUID;\r\n\r\n    int[] photos = {\r\n            R.drawable.photo_1,\r\n            R.drawable.photo_2,\r\n            R.drawable.photo_3,\r\n            R.drawable.photo_4,\r\n            R.drawable.photo_5\r\n    };\r\n    private int currentPosition = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.main));\r\n        gender = getGender();\r\n        findGender = getFindGender();\r\n        findWeight = getFindWeight();\r\n        findHeight = getFindHeight();\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n\r\n        binding.likebutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                findUser();\r\n                NotificationHelper.showHeart(MainActivity.this);\r\n            }\r\n        });\r\n\r\n        binding.megasbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                findUser();\r\n            }\r\n        });\r\n\r\n        binding.megasbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, ChatActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        binding.viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                currentPosition = position;\r\n                if (currentPosition == 0) {\r\n                    binding.chooseImage.setImageResource(R.drawable.left2choosed);\r\n                } else if (currentPosition == 1) {\r\n                    binding.chooseImage.setImageResource(R.drawable.left1choosed);\r\n                } else if (currentPosition == 2) {\r\n                    binding.chooseImage.setImageResource(R.drawable.centerchoosed);\r\n                } else if (currentPosition == 3) {\r\n                    binding.chooseImage.setImageResource(R.drawable.right1choosed);\r\n                } else {\r\n                    binding.chooseImage.setImageResource(R.drawable.right2choosed);\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.profileButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, OwnProfileActivity.class);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        binding.dislikebutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                findUser();\r\n            }\r\n        });\r\n\r\n    }\r\n    @Override\r\n    public void onStart() {\r\n\r\n        super.onStart();\r\n        findUser();\r\n    }\r\n    private String getUserEmail() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"email\", \"\");\r\n    }\r\n\r\n    private String getUserPassword() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"password\", \"\");\r\n    }\r\n\r\n    private String getUID(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"UID\", \"\");\r\n    }\r\n    private String getGender(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"gender\", \"\");\r\n//        return user.getGender();\r\n    }\r\n    private String getFindGender(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"findGender\", \"\");\r\n//        return user.getFindGender();\r\n    }\r\n    private String getFindWeight(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"findWeight\", \"\");\r\n//        return user.getFindWeight();\r\n    }\r\n    private String getFindHeight(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"findHeight\", \"\");\r\n//        return user.getFindHeight();\r\n    }\r\n\r\n    private void getName(final OnNameReceivedListener listener) {\r\n        DatabaseReference nameRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(getUID()).child(\"name\");\r\n        nameRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String name = snapshot.getValue(String.class);\r\n                if (name != null) {\r\n                    listener.onNameReceived(name);\r\n                } else {\r\n                    listener.onNameReceived(\" \");\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                listener.onNameReceived(\" \");\r\n            }\r\n        });\r\n    }\r\n    interface OnNameReceivedListener {\r\n        void onNameReceived(String name);\r\n    }\r\n\r\n    private void findUser(){\r\n//        for(int i = 0; i < 10; i++){\r\n//            Log.e(\"Error\", getFindHeight());\r\n//            getName(new OnNameReceivedListener() {\r\n//                @Override\r\n//                public void onNameReceived(String name) {\r\n//                    Log.e(\"Error\", name);\r\n//                }\r\n//            });\r\n//        }\r\n        Users.getRandomUserFromPool(gender,findGender,findHeight,findWeight, new Users.OnUserDataListener() {\r\n            @Override\r\n            public void onDataLoaded(String color, String userName, String userBio, String photo1, String photo2, String photo3, String photo4,String photo5, String UID) {\r\n                binding.informationTextView.setText(userBio);\r\n                binding.nameTextView.setText(userName);\r\n                binding.genderColor2View.setBackgroundColor(Color.parseColor(color));\r\n                binding.genderColorView.setBackgroundColor(Color.parseColor(color));\r\n                foundUID = UID;\r\n                for(int i = 0; i < 10; i++){\r\n                    Log.e(\"Error\", foundUID+\" Hello \");\r\n                }\r\n                currentUrls.clear();\r\n                currentUrls.add(photo1);\r\n                currentUrls.add(photo2);\r\n                currentUrls.add(photo3);\r\n                currentUrls.add(photo4);\r\n                currentUrls.add(photo5);\r\n                PhotoAdapter photoAdapter = new PhotoAdapter(currentUrls);\r\n                binding.viewPager.setAdapter(photoAdapter);\r\n                photoAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onDataLoaded(Users user) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onDataNotAvailable() {\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/MainActivity.java b/app/src/main/java/com/example/meetyou/MainActivity.java
--- a/app/src/main/java/com/example/meetyou/MainActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/MainActivity.java	(date 1691748401585)
@@ -16,7 +16,6 @@
 import com.example.meetyou.MYFiles.NotificationHelper;
 import com.example.meetyou.MYFiles.PhotoAdapter;
 import com.example.meetyou.MYFiles.Users;
-import com.example.meetyou.Messager.ChatActivity;
 import com.example.meetyou.databinding.ActivityMainBinding;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
@@ -30,6 +29,7 @@
 
 public class MainActivity extends AppCompatActivity {
     private List<String> currentUrls = new ArrayList<>();
+    private List<String> viewedUsersList = new ArrayList<>();
     FirebaseAuth mAuth;
     @NonNull ActivityMainBinding binding;
     String gender;
@@ -65,7 +65,14 @@
             @Override
             public void onClick(View view) {
                 findUser();
-                NotificationHelper.showHeart(MainActivity.this);
+                getProfilePhoto(new OnProfilePhotoReceivedListener() {
+                    @Override
+                    public void onProfilePhotoReceived(String profilePhoto) {
+
+                        Users.updateUserLikes(profilePhoto, currentUrls.get(0),getUID(), foundUID, MainActivity.this);
+                        NotificationHelper.showHeart(MainActivity.this);
+                    }
+                });
             }
         });
 
@@ -76,14 +83,6 @@
             }
         });
 
-        binding.megasbutton.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View view) {
-                Intent intent = new Intent(MainActivity.this, ChatActivity.class);
-                startActivity(intent);
-            }
-        });
-
         binding.viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {
             @Override
             public void onPageSelected(int position) {
@@ -119,6 +118,47 @@
             }
         });
 
+        binding.gobackbutton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                if (!viewedUsersList.isEmpty()) {
+                    viewedUsersList.remove(viewedUsersList.size() - 1);
+
+                    if (!viewedUsersList.isEmpty()) {
+                        String lastViewedUID = viewedUsersList.get(viewedUsersList.size() - 1);
+                        getUserByUID(lastViewedUID, new Users.OnUserDataListener() {
+                            @Override
+                            public void onDataLoaded(String color, String userName, String userBio, String photo1, String photo2, String photo3, String photo4, String photo5, String UID) {
+                                binding.informationTextView.setText(userBio);
+                                binding.nameTextView.setText(userName);
+                                binding.genderColor2View.setBackgroundColor(Color.parseColor(color));
+                                binding.genderColorView.setBackgroundColor(Color.parseColor(color));
+
+                                currentUrls.clear();
+                                currentUrls.add(photo1);
+                                currentUrls.add(photo2);
+                                currentUrls.add(photo3);
+                                currentUrls.add(photo4);
+                                currentUrls.add(photo5);
+                                PhotoAdapter photoAdapter = new PhotoAdapter(currentUrls);
+                                binding.viewPager.setAdapter(photoAdapter);
+                                photoAdapter.notifyDataSetChanged();
+                            }
+
+                            @Override
+                            public void onDataLoaded(Users user) {
+                            }
+
+                            @Override
+                            public void onDataNotAvailable() {
+                                NotificationHelper.showCustomNotification(MainActivity.this, null, getString(R.string.something_went_wrong_message), null, 0,0,0,0);
+                            }
+                        });
+                    }
+                }
+            }
+        });
+
     }
     @Override
     public void onStart() {
@@ -185,16 +225,7 @@
     }
 
     private void findUser(){
-//        for(int i = 0; i < 10; i++){
-//            Log.e("Error", getFindHeight());
-//            getName(new OnNameReceivedListener() {
-//                @Override
-//                public void onNameReceived(String name) {
-//                    Log.e("Error", name);
-//                }
-//            });
-//        }
-        Users.getRandomUserFromPool(gender,findGender,findHeight,findWeight, new Users.OnUserDataListener() {
+        Users.getRandomUserFromPool(gender,findGender,findHeight,findWeight, getUID(),new Users.OnUserDataListener() {
             @Override
             public void onDataLoaded(String color, String userName, String userBio, String photo1, String photo2, String photo3, String photo4,String photo5, String UID) {
                 binding.informationTextView.setText(userBio);
@@ -202,6 +233,7 @@
                 binding.genderColor2View.setBackgroundColor(Color.parseColor(color));
                 binding.genderColorView.setBackgroundColor(Color.parseColor(color));
                 foundUID = UID;
+                viewedUsersList.add(UID);
                 for(int i = 0; i < 10; i++){
                     Log.e("Error", foundUID+" Hello ");
                 }
@@ -226,4 +258,49 @@
             }
         });
     }
+
+    private void getProfilePhoto(final OnProfilePhotoReceivedListener listener) {
+        DatabaseReference photoRef = FirebaseDatabase.getInstance().getReference("Users").child(getUID()).child("photo1");
+        photoRef.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                String profilePhoto = snapshot.getValue(String.class);
+                if (profilePhoto != null) {
+                    listener.onProfilePhotoReceived(profilePhoto);
+                } else {
+                    listener.onProfilePhotoReceived(" ");
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                listener.onProfilePhotoReceived(" ");
+            }
+        });
+    }
+    interface OnProfilePhotoReceivedListener {
+        void onProfilePhotoReceived(String profilePhoto);
+    }
+    public static void getUserByUID(String uid, final Users.OnUserDataListener listener) {
+        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference("Users").child(uid);
+
+        usersRef.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(DataSnapshot dataSnapshot) {
+                Users user = dataSnapshot.getValue(Users.class);
+                if (user != null) {
+                    listener.onDataLoaded(user.getColor(), user.getName(), user.getBio(),
+                            user.getPhoto1(), user.getPhoto2(), user.getPhoto3(), user.getPhoto4(), user.getPhoto5(), user.getUID());
+                } else {
+                    listener.onDataNotAvailable();
+                }
+            }
+
+            @Override
+            public void onCancelled(DatabaseError databaseError) {
+                listener.onDataNotAvailable();
+            }
+        });
+    }
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/meetyou/ChooseGenderActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.meetyou.Database.DatabaseHelper;\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.MYFiles.Users;\r\nimport com.example.meetyou.databinding.ActivityChooseGenderBinding;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.IgnoreExtraProperties;\r\n\r\npublic class ChooseGenderActivity extends AppCompatActivity {\r\n\r\n    private ActivityChooseGenderBinding binding;\r\n    private DatabaseHelper databaseHelper;\r\n\r\n    private DatabaseReference mDatabase;\r\n    private FirebaseAuth mAuth;\r\n\r\n    private boolean isFemale = false;\r\n    private boolean isMale = false;\r\n\r\n    FirebaseDatabase db;\r\n    DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityChooseGenderBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\r\n\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(this, R.color.main));\r\n        Users users = new Users(getUID(), \"none\",\"none\", \"none\", \"none\", \"none\", \"none\", \"none\",\"none\", \"none\", \"none\", \"none\", \"#2C59CC\", \"basic\", \"none\", \"none\", \"none\", \"none\", 0, 0, 0, 0, false);\r\n        db = FirebaseDatabase.getInstance();\r\n        reference = db.getReference(\"Users\");\r\n        reference.child(getUID()).setValue(users);\r\n        databaseHelper = new DatabaseHelper(this);\r\n        mDatabase = FirebaseDatabase.getInstance().getReference();\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef = database.getReference(\"gender\");\r\n\r\n        binding.femaleButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (!isFemale) {\r\n                    isFemale = true;\r\n                    isMale = false;\r\n\r\n                    binding.femaleButton.setBackgroundResource(R.drawable.btn_bg_blue);\r\n                    binding.femaleButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.white));\r\n                    binding.maleButton.setBackgroundResource(R.drawable.btn_bg_gray);\r\n                    binding.maleButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.black));\r\n                    binding.goNextButton.setBackgroundResource(R.drawable.button_background_blue);\r\n                    binding.goNextButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.white));\r\n\r\n                } else {\r\n                    isFemale = false;\r\n                    resetGenderButtons();\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.maleButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (!isMale) {\r\n                    isMale = true;\r\n                    isFemale = false;\r\n                    binding.maleButton.setBackgroundResource(R.drawable.btn_bg_blue);\r\n                    binding.maleButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.white));\r\n                    binding.femaleButton.setBackgroundResource(R.drawable.btn_bg_gray);\r\n                    binding.femaleButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.black));\r\n                    binding.goNextButton.setBackgroundResource(R.drawable.button_background_blue);\r\n                    binding.goNextButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.white));\r\n                } else {\r\n                    isMale = false;\r\n                    resetGenderButtons();\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.goNextButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (!isMale && !isFemale) {\r\n                    NotificationHelper.showCustomNotification(ChooseGenderActivity.this, null, getString(R.string.choose_your_gender), getString(R.string.close), 0, 0, 0,0);\r\n                } else if (isFemale) {\r\n                    Users.updateUserGender(getUID(), \"female\");\r\n                    Users.updateUserColor(getUID(), \"#E337FF\");\r\n                    Users.updateUID(getUID());\r\n                    Intent intent = new Intent(ChooseGenderActivity.this, CreateBioActivity.class);\r\n                    startActivity(intent);\r\n                } else if (isMale) {\r\n                    Users.updateUserGender(getUID(), \"male\");\r\n                    Users.updateUserColor(getUID(), \"#374BFF\");\r\n                    Users.updateUID(getUID());\r\n                    Intent intent = new Intent(ChooseGenderActivity.this, CreateBioActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.goBackButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if (currentUser != null) {\r\n            String userEmail = currentUser.getEmail();\r\n        }\r\n    }\r\n\r\n    private void resetGenderButtons() {\r\n        binding.femaleButton.setBackgroundResource(R.drawable.btn_bg_gray);\r\n        binding.femaleButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.black));\r\n        binding.maleButton.setBackgroundResource(R.drawable.btn_bg_gray);\r\n        binding.maleButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, android.R.color.black));\r\n        binding.goNextButton.setBackgroundResource(R.drawable.button_background_gray);\r\n        binding.goNextButton.setTextColor(ContextCompat.getColor(ChooseGenderActivity.this, R.color.neutral_dark_gray));\r\n        isFemale = false;\r\n        isMale = false;\r\n    }\r\n\r\n    @IgnoreExtraProperties\r\n    public class User {\r\n\r\n        public String username;\r\n        public String email;\r\n\r\n        public User() {\r\n            // Default constructor required for calls to DataSnapshot.getValue(User.class)\r\n        }\r\n\r\n        public User(String username, String email) {\r\n            this.username = username;\r\n            this.email = email;\r\n        }\r\n\r\n    }\r\n\r\n    public void writeNewUser(String userId, String name, String email) {\r\n        User user = new User(name, email);\r\n        mDatabase.child(\"users\").child(userId).setValue(user);\r\n    }\r\n\r\n    private String getUserEmail(){\r\n        SharedPreferences preferences = getPreferences(MODE_PRIVATE);\r\n        return preferences.getString(\"email\", null);\r\n    }\r\n\r\n    private void updateGenderInDatabase(String userEmail, String gender) {\r\n        mDatabase.child(\"users\").child(userEmail).child(\"gender\").setValue(gender)\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Intent intent = new Intent(ChooseGenderActivity.this, CreateBioActivity.class);\r\n                        startActivity(intent);\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        NotificationHelper.showCustomNotification(ChooseGenderActivity.this, null, getString(R.string.registration_error_message), getString(R.string.close), 0, 0, 0, 0);\r\n                        Toast.makeText(ChooseGenderActivity.this, R.string.registration_error_message, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private String getUID(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"UID\", \"\");\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/ChooseGenderActivity.java b/app/src/main/java/com/example/meetyou/ChooseGenderActivity.java
--- a/app/src/main/java/com/example/meetyou/ChooseGenderActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/ChooseGenderActivity.java	(date 1691667586855)
@@ -104,16 +104,21 @@
                 } else if (isFemale) {
                     Users.updateUserGender(getUID(), "female");
                     Users.updateUserColor(getUID(), "#E337FF");
+                    Users.updateUserStatus(getUID(), "basic");
                     Users.updateUID(getUID());
                     Intent intent = new Intent(ChooseGenderActivity.this, CreateBioActivity.class);
                     startActivity(intent);
                 } else if (isMale) {
                     Users.updateUserGender(getUID(), "male");
                     Users.updateUserColor(getUID(), "#374BFF");
+                    Users.updateUserStatus(getUID(), "basic");
                     Users.updateUID(getUID());
                     Intent intent = new Intent(ChooseGenderActivity.this, CreateBioActivity.class);
                     startActivity(intent);
                 }
+                else {
+                    NotificationHelper.showCustomNotification(ChooseGenderActivity.this, null, getString(R.string.registration_error_message), null, 0,0,0,0);
+                }
             }
         });
 
Index: .idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43_[Changes]1/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43_[Changes]1/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43_[Changes]1/shelved.patch	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ /dev/null	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
@@ -1,352 +0,0 @@
-Index: app/src/main/java/com/example/meetyou/MYFiles/Users.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.meetyou.MYFiles;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Users {\r\n    String UID, email, name, bio, height, weight, gender, findGender, findHeight, findWeight, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5;\r\n    int age, boosts, likes, megasymps;\r\n\r\n    boolean verified;\r\n\r\n    public Users() {\r\n    }\r\n\r\n    public Users(String UID, String email, String name, String bio, String height, String weight, String gender, String findGender, String findHeight, String findWeight, String hobbies, String target,\r\n                 String color, String status,\r\n                 String photo1, String photo2, String photo3, String photo4, int age, int boosts, int likes, int megasymps, boolean verified)\r\n    {\r\n        this.UID = UID;\r\n        this.email = email;\r\n        this.name = name;\r\n        this.bio = bio;\r\n        this.height = height;\r\n        this.weight = weight;\r\n        this.gender = gender;\r\n        this.findGender = findGender;\r\n        this.findHeight = findHeight;\r\n        this.findWeight = findWeight;\r\n        this.hobbies = hobbies;\r\n        this.target = target;\r\n        this.color = color;\r\n        this.status = status;\r\n        this.photo1 = photo1;\r\n        this.photo2 = photo2;\r\n        this.photo3 = photo3;\r\n        this.photo4 = photo4;\r\n        this.photo5 = photo5;\r\n        this.age = age;\r\n        this.boosts = boosts;\r\n        this.likes = likes;\r\n        this.megasymps = megasymps;\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getFindHeight() {\r\n        return findHeight;\r\n    }\r\n\r\n    public void setFindHeight(String findHeight) {\r\n        this.findHeight = findHeight;\r\n    }\r\n\r\n    public String getFindWeight() {\r\n        return findWeight;\r\n    }\r\n\r\n    public void setFindWeight(String findWeight) {\r\n        this.findWeight = findWeight;\r\n    }\r\n\r\n    public String getPhoto1() {\r\n        return photo1;\r\n    }\r\n\r\n    public void setPhoto1(String photo1) {\r\n        this.photo1 = photo1;\r\n    }\r\n\r\n    public String getPhoto2() {\r\n        return photo2;\r\n    }\r\n\r\n    public void setPhoto2(String photo2) {\r\n        this.photo2 = photo2;\r\n    }\r\n\r\n    public String getPhoto3() {\r\n        return photo3;\r\n    }\r\n\r\n    public void setPhoto3(String photo3) {\r\n        this.photo3 = photo3;\r\n    }\r\n\r\n    public String getPhoto4() {\r\n        return photo4;\r\n    }\r\n\r\n    public void setPhoto4(String photo4) {\r\n        this.photo4 = photo4;\r\n    }\r\n\r\n    public String getPhoto5() {\r\n        return photo5;\r\n    }\r\n\r\n    public void setPhoto5(String photo5) {\r\n        this.photo5 = photo5;\r\n    }\r\n\r\n    public int getBoosts() {\r\n        return boosts;\r\n    }\r\n\r\n    public void setBoosts(int boosts) {\r\n        this.boosts = boosts;\r\n    }\r\n\r\n    public int getLikes() {\r\n        return likes;\r\n    }\r\n\r\n    public void setLikes(int likes) {\r\n        this.likes = likes;\r\n    }\r\n\r\n    public int getMegasymps() {\r\n        return megasymps;\r\n    }\r\n\r\n    public void setMegasymps(int megasymps) {\r\n        this.megasymps = megasymps;\r\n    }\r\n\r\n    public boolean isVerified() {\r\n        return verified;\r\n    }\r\n\r\n    public void setVerified(boolean verified) {\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getUID() {\r\n        return UID;\r\n    }\r\n\r\n    public void setUID(String UID) {\r\n        this.UID = UID;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getBio() {\r\n        return bio;\r\n    }\r\n\r\n    public void setBio(String bio) {\r\n        this.bio = bio;\r\n    }\r\n\r\n    public String getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(String height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public String getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(String weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getFindGender() {\r\n        return findGender;\r\n    }\r\n\r\n    public void setFindGender(String findGender) {\r\n        this.findGender = findGender;\r\n    }\r\n\r\n    public String getHobbies() {\r\n        return hobbies;\r\n    }\r\n\r\n    public void setHobbies(String hobbies) {\r\n        this.hobbies = hobbies;\r\n    }\r\n\r\n    public String getTarget() {\r\n        return target;\r\n    }\r\n\r\n    public void setTarget(String target) {\r\n        this.target = target;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public static void updateUserName(String UID, String newName) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"name\");\r\n        userRef.setValue(newName);\r\n    }\r\n\r\n    public static void updateUserBio(String UID, String newBio) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"bio\");\r\n        userRef.setValue(newBio);\r\n    }\r\n\r\n    public static void updateUserHeight(String UID, String newHeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"height\");\r\n        userRef.setValue(newHeight);\r\n    }\r\n\r\n    public static void updateUserWeight(String UID, String newWeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"weight\");\r\n        userRef.setValue(newWeight);\r\n    }\r\n\r\n    public static void updateUserGender(String UID, String newGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"gender\");\r\n        userRef.setValue(newGender);\r\n    }\r\n\r\n    public static void updateUserFindGender(String UID, String newFindGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findGender\");\r\n        userRef.setValue(newFindGender);\r\n    }\r\n\r\n    public static void updateUserHobbies(String UID, String newHobbies) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"hobbies\");\r\n        userRef.setValue(newHobbies);\r\n    }\r\n\r\n    public static void updateUserTarget(String UID, String newTarget) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"target\");\r\n        userRef.setValue(newTarget);\r\n    }\r\n\r\n    public static void updateUserColor(String UID, String newColor) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"color\");\r\n        userRef.setValue(newColor);\r\n    }\r\n\r\n    public static void updateUserStatus(String UID, String newStatus) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"status\");\r\n        userRef.setValue(newStatus);\r\n    }\r\n\r\n    public static void updateUserAge(String UID, int newAge) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"age\");\r\n        userRef.setValue(newAge);\r\n    }\r\n\r\n    public static void updateVerification(String UID, boolean newVerification){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"verified\");\r\n        userRef.setValue(newVerification);\r\n    }\r\n\r\n\r\n    public static void updateUserPhoto(String UID, String photoName,String photoURL){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(photoName);\r\n        userRef.setValue(photoURL);\r\n    }\r\n\r\n\r\n    public static void updateUserFindHeight(String UID, String newFindHeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findHeight\");\r\n        userRef.setValue(newFindHeight);\r\n    }\r\n\r\n    public static void updateUserFindWeight(String UID, String newFindWeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findHeight\");\r\n        userRef.setValue(newFindWeight);\r\n    }\r\n\r\n    public static void getUserDataFromFirebase(String UID, final OnUserDataListener listener) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Users user = dataSnapshot.getValue(Users.class);\r\n                if (user != null) {\r\n                    listener.onDataLoaded(user);\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n\r\n    public interface OnUserDataListener {\r\n        void onDataLoaded(String userName);\r\n\r\n        void onDataLoaded(Users user);\r\n        void onDataNotAvailable();\r\n    }\r\n\r\n    public void saveUserDataToSharedPreferences(Context context) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"UID\", this.UID);\r\n        editor.putString(\"name\", this.name);\r\n        editor.putString(\"bio\", this.bio);\r\n        editor.putString(\"height\", this.height);\r\n        editor.putString(\"weight\", this.weight);\r\n        editor.putString(\"gender\", this.gender);\r\n        editor.putString(\"findGender\", this.findGender);\r\n        editor.putString(\"findHeight\", this.findHeight);\r\n        editor.putString(\"findWeight\", this.findWeight);\r\n        editor.putString(\"hobbies\", this.hobbies);\r\n        editor.putString(\"target\", this.target);\r\n        editor.putString(\"color\", this.color);\r\n        editor.putString(\"status\", this.status);\r\n        editor.putString(\"photo1\", this.photo1);\r\n        editor.putString(\"photo2\", this.photo2);\r\n        editor.putString(\"photo3\", this.photo3);\r\n        editor.putString(\"photo4\", this.photo4);\r\n        editor.putString(\"photo5\", this.photo5);\r\n        editor.putInt(\"age\", this.age);\r\n        editor.putInt(\"boosts\", this.boosts);\r\n        editor.putInt(\"likes\", this.likes);\r\n        editor.putInt(\"megasymps\", this.megasymps);\r\n        editor.putBoolean(\"verified\", this.verified);\r\n        editor.apply();\r\n    }\r\n\r\n    public static Users getUserDataFromSharedPreferences(Context context) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n        String UID = sharedPreferences.getString(\"UID\", \"\");\r\n        String name = sharedPreferences.getString(\"name\", \"\");\r\n        String bio = sharedPreferences.getString(\"bio\", \"\");\r\n        String height = sharedPreferences.getString(\"height\", \"\");\r\n        String weight = sharedPreferences.getString(\"weight\", \"\");\r\n        String gender = sharedPreferences.getString(\"gender\", \"\");\r\n        String findGender = sharedPreferences.getString(\"findGender\", \"\");\r\n        String findHeight = sharedPreferences.getString(\"findHeight\", \"\");\r\n        String findWeight = sharedPreferences.getString(\"findWeight\", \"\");\r\n        String hobbies = sharedPreferences.getString(\"hobbies\", \"\");\r\n        String target = sharedPreferences.getString(\"target\", \"\");\r\n        String color = sharedPreferences.getString(\"color\", \"\");\r\n        String status = sharedPreferences.getString(\"status\", \"\");\r\n        String photo1 = sharedPreferences.getString(\"photo1\", \"\");\r\n        String photo2 = sharedPreferences.getString(\"photo2\", \"\");\r\n        String photo3 = sharedPreferences.getString(\"photo3\", \"\");\r\n        String photo4 = sharedPreferences.getString(\"photo4\", \"\");\r\n        String photo5 = sharedPreferences.getString(\"photo5\", \"\");\r\n        int age = sharedPreferences.getInt(\"age\", 0);\r\n        int boosts = sharedPreferences.getInt(\"boosts\", 0);\r\n        int likes = sharedPreferences.getInt(\"likes\", 0);\r\n        int megasymps = sharedPreferences.getInt(\"megasymps\", 0);\r\n        boolean verified = sharedPreferences.getBoolean(\"verified\", false);\r\n\r\n        return new Users(UID, name, bio, height, weight, gender, findGender, findHeight, findHeight, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5, age, boosts, likes, megasymps, verified);\r\n    }\r\n\r\n\r\n\r\n    public static void getRandomUserFromPool(String UID,String findGender, String gender, final OnUserDataListener listener) {\r\n        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        Query query = usersRef.orderByChild(\"gender\").equalTo(gender);\r\n\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                List<Users> femaleUsers = new ArrayList<>();\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    Users user = snapshot.getValue(Users.class);\r\n                    if (user != null && user.getFindGender().equals(findGender)) {\r\n                        femaleUsers.add(user);\r\n                    }\r\n                }\r\n\r\n                if (!femaleUsers.isEmpty()) {\r\n                    int randomIndex = new Random().nextInt(femaleUsers.size());\r\n                    Users randomFemaleUser = femaleUsers.get(randomIndex);\r\n                    listener.onDataLoaded(randomFemaleUser.getName());\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/meetyou/MYFiles/Users.java b/app/src/main/java/com/example/meetyou/MYFiles/Users.java
---- a/app/src/main/java/com/example/meetyou/MYFiles/Users.java	
-+++ b/app/src/main/java/com/example/meetyou/MYFiles/Users.java	
-@@ -20,13 +20,12 @@
- 
-     boolean verified;
- 
--    public Users() {
-+    public Users(String UID, String name, String bio, String height, String weight, String gender, String findGender, String findHeight, String s, String hobbies, String target, String color, String status, String photo1, String photo2, String photo3, String photo4, String photo5, int age, int boosts, int likes, int megasymps, boolean verified) {
-     }
- 
--    public Users(String UID, String email, String name, String bio, String height, String weight, String gender, String findGender, String findHeight, String findWeight, String hobbies, String target,
-+    public Users(String UID, String email, String name, String bio, String height, String weight, String gender, String findGender, String hobbies, String target,
-                  String color, String status,
--                 String photo1, String photo2, String photo3, String photo4, int age, int boosts, int likes, int megasymps, boolean verified)
--    {
-+                 String photo1, String photo2, String photo3, String photo4, int age, int boosts, int likes, int megasymps, boolean verified) {
-         this.UID = UID;
-         this.email = email;
-         this.name = name;
-@@ -177,6 +176,8 @@
-         return name;
-     }
- 
-+
-+
-     public void setName(String name) {
-         this.name = name;
-     }
-@@ -300,13 +301,13 @@
-         userRef.setValue(newAge);
-     }
- 
--    public static void updateVerification(String UID, boolean newVerification){
-+    public static void updateVerification(String UID, boolean newVerification) {
-         DatabaseReference userRef = FirebaseDatabase.getInstance().getReference("Users").child(UID).child("verified");
-         userRef.setValue(newVerification);
-     }
- 
- 
--    public static void updateUserPhoto(String UID, String photoName,String photoURL){
-+    public static void updateUserPhoto(String UID, String photoName, String photoURL) {
-         DatabaseReference userRef = FirebaseDatabase.getInstance().getReference("Users").child(UID).child(photoName);
-         userRef.setValue(photoURL);
-     }
-@@ -346,36 +347,52 @@
-         void onDataLoaded(String userName);
- 
-         void onDataLoaded(Users user);
-+
-         void onDataNotAvailable();
-     }
- 
--    public void saveUserDataToSharedPreferences(Context context) {
--        SharedPreferences sharedPreferences = context.getSharedPreferences("UserPrefs", Context.MODE_PRIVATE);
--        SharedPreferences.Editor editor = sharedPreferences.edit();
--        editor.putString("UID", this.UID);
--        editor.putString("name", this.name);
--        editor.putString("bio", this.bio);
--        editor.putString("height", this.height);
--        editor.putString("weight", this.weight);
--        editor.putString("gender", this.gender);
--        editor.putString("findGender", this.findGender);
--        editor.putString("findHeight", this.findHeight);
--        editor.putString("findWeight", this.findWeight);
--        editor.putString("hobbies", this.hobbies);
--        editor.putString("target", this.target);
--        editor.putString("color", this.color);
--        editor.putString("status", this.status);
--        editor.putString("photo1", this.photo1);
--        editor.putString("photo2", this.photo2);
--        editor.putString("photo3", this.photo3);
--        editor.putString("photo4", this.photo4);
--        editor.putString("photo5", this.photo5);
--        editor.putInt("age", this.age);
--        editor.putInt("boosts", this.boosts);
--        editor.putInt("likes", this.likes);
--        editor.putInt("megasymps", this.megasymps);
--        editor.putBoolean("verified", this.verified);
--        editor.apply();
-+    public static void saveUserDataToSharedPreferences(Context context, String UID) {
-+        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference("Users").child(UID);
-+        userRef.addListenerForSingleValueEvent(new ValueEventListener() {
-+            @Override
-+            public void onDataChange(DataSnapshot dataSnapshot) {
-+                Users user = dataSnapshot.getValue(Users.class);
-+
-+                if (user != null) {
-+                    SharedPreferences sharedPreferences = context.getSharedPreferences("UserPrefs", Context.MODE_PRIVATE);
-+                    SharedPreferences.Editor editor = sharedPreferences.edit();
-+                    editor.putString("UID", user.getUID());
-+                    editor.putString("name", user.getName());
-+                    editor.putString("bio", user.getBio());
-+                    editor.putString("height", user.getHeight());
-+                    editor.putString("weight", user.getWeight());
-+                    editor.putString("gender", user.getGender());
-+                    editor.putString("findGender", user.getFindGender());
-+                    editor.putString("findHeight", user.getFindHeight());
-+                    editor.putString("findWeight", user.getFindWeight());
-+                    editor.putString("hobbies", user.getHobbies());
-+                    editor.putString("target", user.getTarget());
-+                    editor.putString("color", user.getColor());
-+                    editor.putString("status", user.getStatus());
-+                    editor.putString("photo1", user.getPhoto1());
-+                    editor.putString("photo2", user.getPhoto2());
-+                    editor.putString("photo3", user.getPhoto3());
-+                    editor.putString("photo4", user.getPhoto4());
-+                    editor.putString("photo5", user.getPhoto5());
-+                    editor.putInt("age", user.getAge());
-+                    editor.putInt("boosts", user.getBoosts());
-+                    editor.putInt("likes", user.getLikes());
-+                    editor.putInt("megasymps", user.getMegasymps());
-+                    editor.putBoolean("verified", user.isVerified());
-+                    editor.apply();
-+                } else {
-+                }
-+            }
-+
-+            @Override
-+            public void onCancelled(DatabaseError databaseError) {
-+            }
-+        });
-     }
- 
-     public static Users getUserDataFromSharedPreferences(Context context) {
-@@ -408,8 +425,7 @@
-     }
- 
- 
--
--    public static void getRandomUserFromPool(String UID,String findGender, String gender, final OnUserDataListener listener) {
-+    public static void getRandomUserFromPool(String UID, String findGender, String gender, String weight, String height, String findHeight, String findWeight, int age, int findMinAge, int findMaxAge, final OnUserDataListener listener) {
-         DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference("Users");
-         Query query = usersRef.orderByChild("gender").equalTo(gender);
- 
-@@ -419,15 +435,21 @@
-                 List<Users> femaleUsers = new ArrayList<>();
-                 for (DataSnapshot snapshot : dataSnapshot.getChildren()) {
-                     Users user = snapshot.getValue(Users.class);
--                    if (user != null && user.getFindGender().equals(findGender)) {
--                        femaleUsers.add(user);
-+                    if (user.getFindGender().equals("Any")){
-+                        if (user != null && user.getWeight().equals(findWeight) && user.getHeight().equals(findHeight) && user.getAge() >= findMinAge && user.getAge() <= findMaxAge) {
-+                            femaleUsers.add(user);
-+                        }
-+                    }else {
-+                        if (user != null && user.getFindGender().equals(gender) && user.getWeight().equals(findWeight) && user.getHeight().equals(findHeight) && user.getAge() >= findMinAge && user.getAge() <= findMaxAge) {
-+                            femaleUsers.add(user);
-+                        }
-                     }
-                 }
- 
-                 if (!femaleUsers.isEmpty()) {
-                     int randomIndex = new Random().nextInt(femaleUsers.size());
-                     Users randomFemaleUser = femaleUsers.get(randomIndex);
--                    listener.onDataLoaded(randomFemaleUser.getName());
-+                    listener.onDataLoaded(randomFemaleUser.getName(),randomFemaleUser.getBio(),randomFemaleUser.getPhoto1(),randomFemaleUser.getPhoto2(),randomFemaleUser.getPhoto3(),randomFemaleUser.getPhoto4(),randomFemaleUser.getPhoto5());
-                 } else {
-                     listener.onDataNotAvailable();
-                 }
-Index: app/src/main/java/com/example/meetyou/SignInActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.meetyou;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.widget.CheckBox;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.meetyou.Database.DatabaseHelper;\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.MYFiles.Users;\r\nimport com.example.meetyou.databinding.ActivitySignInBinding;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\npublic class SignInActivity extends AppCompatActivity {\r\n\r\n    // Подключение привязки к макету активности\r\n    ActivitySignInBinding binding;\r\n\r\n    // Переменная для работы с базой данных\r\n    DatabaseHelper databaseHelper;\r\n\r\n    // Флаг для запоминания пользователя (опциональный выбор)\r\n    private CheckBox rememberMeCheckbox;\r\n\r\n    // Флаг, отмечающий состояние \"Запомнить меня\"\r\n    boolean isRememberMeChecked = false;\r\n\r\n    // Объект для аутентификации через Firebase\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivitySignInBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        // Получение состояния флага \"Запомнить меня\" из SharedPreferences\r\n        rememberMeCheckbox = findViewById(R.id.remember_me_checkbox);\r\n        isRememberMeChecked = isRememberMeChecked(); // Retrieve the value from SharedPreferences\r\n        rememberMeCheckbox.setChecked(isRememberMeChecked); // Set the state of the RememberMeCheckbox\r\n        if (isRememberMeChecked) {\r\n            // If the flag is set, attempt login with saved credentials\r\n            loginUser(getSavedEmail(), getSavedPassword());\r\n        }\r\n\r\n        // Установка портретной ориентации экрана\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n        // Инициализация помощника для работы с базой данных\r\n        databaseHelper = new DatabaseHelper(this);\r\n\r\n        // Получение экземпляра Firebase для аутентификации\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        // Изменение цвета статус-бара\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(SignInActivity.this, R.color.main));\r\n\r\n        // Обработчик кнопки \"Назад\" - закрывает активность\r\n        AppCompatButton backButton = findViewById(R.id.go_back_button);\r\n        backButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        // Обработчик кнопки \"Войти\" - выполняет попытку входа\r\n        binding.signInButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Получение введенной пользователем электронной почты и пароля\r\n                String email = binding.mailText.getText().toString().trim();\r\n                String password = binding.password.getText().toString();\r\n\r\n                // Проверка корректности формата электронной почты\r\n                if (!isValidEmail(email)) {\r\n                    // Вывод уведомления об ошибке в формате почты\r\n                    NotificationHelper.showCustomNotification(SignInActivity.this, null, getString(R.string.wrong_mail_format_message), getString(R.string.close), 0, 0, 0, 0);\r\n                } else if (email.equals(\"\") || password.equals(\"\")) {\r\n                    // Вывод уведомления об ошибке ввода данных (пустые поля)\r\n                    NotificationHelper.showCustomNotification(SignInActivity.this, null, getString(R.string.zero_input_message), getString(R.string.close), 0, 0, 0, 0);\r\n                } else {\r\n                    // Вызов метода для попытки входа пользователя\r\n                    loginUser(email, password);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        // Получение состояния флага \"Запомнить меня\" из SharedPreferences\r\n        rememberMeCheckbox = findViewById(R.id.remember_me_checkbox);\r\n        if (isRememberMeChecked()) {\r\n            // Если флаг установлен, отметить его на чекбоксе и выполнить вход с сохраненными данными\r\n            rememberMeCheckbox.setChecked(true);\r\n            loginUser(getSavedEmail(), getSavedPassword());\r\n        }\r\n    }\r\n\r\n    // Проверка корректности формата электронной почты\r\n    private boolean isValidEmail(String email) {\r\n        return Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n    }\r\n\r\n    // Метод для входа пользователя\r\n    private void loginUser(String email, String password) {\r\n        // Вызов метода Firebase для входа с указанными данными\r\n        mAuth.signInWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if (task.isSuccessful()) {\r\n                            if (rememberMeCheckbox.isChecked()) {\r\n                                saveUserCredentials(email, password);\r\n                            } else {\r\n                                clearUserCredentials();\r\n                            }\r\n\r\n                            startMainActivity();\r\n                            // Если вход успешен, получаем уникальный идентификатор пользователя (UID) и загружаем его данные\r\n                            String userUID = sanitizeEmail(email);\r\n                            saveUID(userUID);\r\n\r\n                            // Вызов метода для загрузки данных пользователя\r\n                            Users.getUserDataFromFirebase(userUID, new Users.OnUserDataListener() {\r\n                                @Override\r\n                                public void onDataLoaded(String userName) {\r\n\r\n                                }\r\n\r\n                                @Override\r\n                                public void onDataLoaded(Users user) {\r\n                                    // Сохранение данных пользователя в SharedPreferences и запуск основной активности\r\n                                    saveUserCredentials(user);\r\n                                    startMainActivity();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onDataNotAvailable() {\r\n                                    // Вывод уведомления об ошибке загрузки данных пользователя\r\n                                    Toast.makeText(SignInActivity.this, R.string.data_not_available_message, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        } else {\r\n                            // Вывод уведомления об ошибке - неправильный пароль или почта\r\n                            NotificationHelper.showCustomNotification(SignInActivity.this, null, getString(R.string.wrong_password_or_mail_message), getString(R.string.close), 0, 0, 0, 0);\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void clearUserCredentials() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.remove(\"email\");\r\n        editor.remove(\"password\");\r\n        editor.apply();\r\n    }\r\n\r\n    private void saveUserCredentials(String email, String password) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"email\", email);\r\n        editor.putString(\"password\", password);\r\n        editor.apply();\r\n    }\r\n\r\n\r\n    // Сохранение данных пользователя в SharedPreferences\r\n    private void saveUserCredentials(Users user) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"email\", user.getEmail());\r\n        editor.putString(\"name\", user.getName());\r\n        editor.putString(\"bio\", user.getBio());\r\n        editor.putString(\"height\", user.getHeight());\r\n        editor.putString(\"width\", user.getWeight());\r\n        editor.putString(\"gender\", user.getGender());\r\n        editor.putString(\"findGender\", user.getFindGender());\r\n        editor.putString(\"hobbies\", user.getHobbies());\r\n        editor.putString(\"target\", user.getTarget());\r\n        editor.putInt(\"age\", user.getAge());\r\n        editor.apply();\r\n    }\r\n\r\n    // Запуск основной активности приложения\r\n    private void startMainActivity() {\r\n        Intent intent = new Intent(SignInActivity.this, OwnProfileActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    // Сохранение состояния флага \"Запомнить меня\" в SharedPreferences\r\n    private void saveRememberMeState(boolean isChecked) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"remember_me\", isChecked);\r\n        editor.apply();\r\n    }\r\n\r\n    // Получение состояния флага \"Запомнить меня\" из SharedPreferences\r\n    private boolean isRememberMeChecked() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getBoolean(\"remember_me\", false);\r\n    }\r\n\r\n    // Получение сохраненного email из SharedPreferences\r\n    private String getSavedEmail() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"email\", \"\");\r\n    }\r\n\r\n    // Получение сохраненного password из SharedPreferences\r\n    private String getSavedPassword() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"password\", \"\");\r\n    }\r\n\r\n    // Метод для \"санитарной\" обработки email (удаление символов [@, .])\r\n    public String sanitizeEmail(String email) {\r\n        String sanitizedEmail = email.replaceAll(\"[.@#$\\\\[\\\\]]\", \"\");\r\n        return sanitizedEmail;\r\n    }\r\n\r\n    private void saveUID(String UID){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"UID\", UID);\r\n        editor.apply();\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/meetyou/SignInActivity.java b/app/src/main/java/com/example/meetyou/SignInActivity.java
---- a/app/src/main/java/com/example/meetyou/SignInActivity.java	
-+++ b/app/src/main/java/com/example/meetyou/SignInActivity.java	
-@@ -131,7 +131,7 @@
-                             // Если вход успешен, получаем уникальный идентификатор пользователя (UID) и загружаем его данные
-                             String userUID = sanitizeEmail(email);
-                             saveUID(userUID);
--
-+                            Users.saveUserDataToSharedPreferences(SignInActivity.this, userUID);
-                             // Вызов метода для загрузки данных пользователя
-                             Users.getUserDataFromFirebase(userUID, new Users.OnUserDataListener() {
-                                 @Override
-Index: app/src/main/java/com/example/meetyou/ChooseFindTargetActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.meetyou;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.MYFiles.Users;\r\nimport com.example.meetyou.databinding.ActivityChooseFindTargetBinding;\r\n\r\npublic class ChooseFindTargetActivity extends AppCompatActivity {\r\n\r\n    ActivityChooseFindTargetBinding binding;\r\n\r\n    private boolean isShortChanged = false;\r\n    private boolean isLongChanged = false;\r\n    private boolean isFunChanged = false;\r\n    private boolean isSureChanged = false;\r\n    private boolean isSexChanged = false;\r\n    private boolean isFriendsChanged = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityChooseFindTargetBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\r\n\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(this, R.color.main));\r\n\r\n        binding.shortTermButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isShortChanged = true;\r\n                isLongChanged = false;\r\n                isFunChanged = false;\r\n                isSureChanged = false;\r\n                isSexChanged = false;\r\n                isFriendsChanged = false;\r\n\r\n                binding.shortTermImage.setImageResource(R.drawable.short_term_selected);\r\n                binding.longTermImage.setImageResource(R.drawable.long_term);\r\n                binding.funTermImage.setImageResource(R.drawable.fun);\r\n                binding.notSureTermImage.setImageResource(R.drawable.not_sure);\r\n                binding.quickSexTermImage.setImageResource(R.drawable.quick_sex);\r\n                binding.friendsTermImage.setImageResource(R.drawable.friends);\r\n\r\n                updateButtonState();\r\n            }\r\n        });\r\n\r\n        binding.longTermButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isShortChanged = false;\r\n                isLongChanged = true;\r\n                isFunChanged = false;\r\n                isSureChanged = false;\r\n                isSexChanged = false;\r\n                isFriendsChanged = false;\r\n\r\n                binding.shortTermImage.setImageResource(R.drawable.short_term);\r\n                binding.longTermImage.setImageResource(R.drawable.long_term_selected);\r\n                binding.funTermImage.setImageResource(R.drawable.fun);\r\n                binding.notSureTermImage.setImageResource(R.drawable.not_sure);\r\n                binding.quickSexTermImage.setImageResource(R.drawable.quick_sex);\r\n                binding.friendsTermImage.setImageResource(R.drawable.friends);\r\n\r\n                updateButtonState();\r\n            }\r\n        });\r\n\r\n        binding.funTermButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isShortChanged = false;\r\n                isLongChanged = false;\r\n                isFunChanged = true;\r\n                isSureChanged = false;\r\n                isSexChanged = false;\r\n                isFriendsChanged = false;\r\n\r\n                binding.shortTermImage.setImageResource(R.drawable.short_term);\r\n                binding.longTermImage.setImageResource(R.drawable.long_term);\r\n                binding.funTermImage.setImageResource(R.drawable.fun_selected);\r\n                binding.notSureTermImage.setImageResource(R.drawable.not_sure);\r\n                binding.quickSexTermImage.setImageResource(R.drawable.quick_sex);\r\n                binding.friendsTermImage.setImageResource(R.drawable.friends);\r\n\r\n                updateButtonState();\r\n            }\r\n        });\r\n\r\n        binding.notSureTermButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isShortChanged = false;\r\n                isLongChanged = false;\r\n                isFunChanged = false;\r\n                isSureChanged = true;\r\n                isSexChanged = false;\r\n                isFriendsChanged = false;\r\n\r\n                binding.shortTermImage.setImageResource(R.drawable.short_term);\r\n                binding.longTermImage.setImageResource(R.drawable.long_term);\r\n                binding.funTermImage.setImageResource(R.drawable.fun);\r\n                binding.notSureTermImage.setImageResource(R.drawable.not_sure_selected);\r\n                binding.quickSexTermImage.setImageResource(R.drawable.quick_sex);\r\n                binding.friendsTermImage.setImageResource(R.drawable.friends);\r\n\r\n                updateButtonState();\r\n            }\r\n        });\r\n\r\n        binding.quickSexTermButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isShortChanged = false;\r\n                isLongChanged = false;\r\n                isFunChanged = false;\r\n                isSureChanged = false;\r\n                isSexChanged = true;\r\n                isFriendsChanged = false;\r\n\r\n                binding.shortTermImage.setImageResource(R.drawable.short_term);\r\n                binding.longTermImage.setImageResource(R.drawable.long_term);\r\n                binding.funTermImage.setImageResource(R.drawable.fun);\r\n                binding.notSureTermImage.setImageResource(R.drawable.not_sure);\r\n                binding.quickSexTermImage.setImageResource(R.drawable.quick_sex_selected);\r\n                binding.friendsTermImage.setImageResource(R.drawable.friends);\r\n\r\n                updateButtonState();\r\n            }\r\n        });\r\n\r\n        binding.friendsTermButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isShortChanged = false;\r\n                isLongChanged = false;\r\n                isFunChanged = false;\r\n                isSureChanged = false;\r\n                isSexChanged = false;\r\n                isFriendsChanged = true;\r\n\r\n                binding.shortTermImage.setImageResource(R.drawable.short_term);\r\n                binding.longTermImage.setImageResource(R.drawable.long_term);\r\n                binding.funTermImage.setImageResource(R.drawable.fun);\r\n                binding.notSureTermImage.setImageResource(R.drawable.not_sure);\r\n                binding.quickSexTermImage.setImageResource(R.drawable.quick_sex);\r\n                binding.friendsTermImage.setImageResource(R.drawable.friends_selected);\r\n\r\n                updateButtonState();\r\n            }\r\n        });\r\n\r\n        binding.goNextButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(isFriendsChanged || isShortChanged || isFunChanged || isLongChanged || isSexChanged || isSureChanged){\r\n                    if(isFriendsChanged)\r\n                    {\r\n                        Users.updateUserTarget(getUID(), \"friends\");\r\n                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);\r\n                        startActivity(intent);\r\n                    } else if (isShortChanged)\r\n                    {\r\n                        Users.updateUserTarget(getUID(), \"short-term\");\r\n                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);\r\n                        startActivity(intent);\r\n                    } else if (isLongChanged)\r\n                    {\r\n                        Users.updateUserTarget(getUID(), \"long-term\");\r\n                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);\r\n                        startActivity(intent);\r\n                    } else if (isFunChanged)\r\n                    {\r\n                        Users.updateUserTarget(getUID(), \"fun\");\r\n                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);\r\n                        startActivity(intent);\r\n                    } else if (isSexChanged)\r\n                    {\r\n                        Users.updateUserTarget(getUID(), \"sex\");\r\n                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);\r\n                        startActivity(intent);\r\n                    } else if (isSureChanged)\r\n                    {\r\n                        Users.updateUserTarget(getUID(), \"not-sure\");\r\n                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);\r\n                        startActivity(intent);\r\n                    }\r\n                }else{\r\n                    NotificationHelper.showCustomNotification(ChooseFindTargetActivity.this, null, getString(R.string.pick_a_few_targets_message), getString(R.string.close), 0, 0, 0,0);\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.goBackButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void updateButtonState() {\r\n//        binding.shortTermImage.setImageResource(isShortChanged ? R.drawable.short_term_selected : R.drawable.short_term);\r\n//        binding.longTermImage.setImageResource(isLongChanged ? R.drawable.long_term_selected : R.drawable.long_term);\r\n//        binding.funTermImage.setImageResource(isFunChanged ? R.drawable.fun_selected : R.drawable.fun);\r\n//        binding.notSureTermImage.setImageResource(isSureChanged ? R.drawable.not_sure_selected : R.drawable.not_sure);\r\n//        binding.quickSexTermImage.setImageResource(isSexChanged ? R.drawable.quick_sex_selected : R.drawable.quick_sex);\r\n//        binding.friendsTermImage.setImageResource(isFriendsChanged ? R.drawable.friends_selected : R.drawable.friends);\r\n        if(isFriendsChanged || isShortChanged || isFunChanged || isLongChanged || isSexChanged || isSureChanged){\r\n            binding.goNextButton.setBackgroundResource(R.drawable.button_background_blue);\r\n            binding.goNextButton.setTextColor(getColor(R.color.white));\r\n        } else {\r\n            binding.goNextButton.setTextColor(getColor(R.color.neutral_dark_gray));\r\n            binding.goNextButton.setBackgroundResource(R.drawable.button_background_gray);\r\n        }\r\n    }\r\n\r\n    private String getUID(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"UID\", \"\");\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/meetyou/ChooseFindTargetActivity.java b/app/src/main/java/com/example/meetyou/ChooseFindTargetActivity.java
---- a/app/src/main/java/com/example/meetyou/ChooseFindTargetActivity.java	
-+++ b/app/src/main/java/com/example/meetyou/ChooseFindTargetActivity.java	
-@@ -166,32 +166,32 @@
-                     if(isFriendsChanged)
-                     {
-                         Users.updateUserTarget(getUID(), "friends");
--                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);
-+                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnersParametersActivity.class);
-                         startActivity(intent);
-                     } else if (isShortChanged)
-                     {
-                         Users.updateUserTarget(getUID(), "short-term");
--                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);
-+                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnersParametersActivity.class);
-                         startActivity(intent);
-                     } else if (isLongChanged)
-                     {
-                         Users.updateUserTarget(getUID(), "long-term");
--                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);
-+                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnersParametersActivity.class);
-                         startActivity(intent);
-                     } else if (isFunChanged)
-                     {
-                         Users.updateUserTarget(getUID(), "fun");
--                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);
-+                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnersParametersActivity.class);
-                         startActivity(intent);
-                     } else if (isSexChanged)
-                     {
-                         Users.updateUserTarget(getUID(), "sex");
--                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);
-+                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnersParametersActivity.class);
-                         startActivity(intent);
-                     } else if (isSureChanged)
-                     {
-                         Users.updateUserTarget(getUID(), "not-sure");
--                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnerParametersActivity.class);
-+                        Intent intent = new Intent(ChooseFindTargetActivity.this, ChoosePartnersParametersActivity.class);
-                         startActivity(intent);
-                     }
-                 }else{
-Index: app/src/main/java/com/example/meetyou/MainActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.meetyou;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.example.meetyou.Database.DatabaseHelper;\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.MYFiles.Users;\r\nimport com.example.meetyou.databinding.ActivityMainBinding;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    FirebaseAuth mAuth;\r\n    @NonNull ActivityMainBinding binding;\r\n    DatabaseHelper databaseHelper;\r\n    private int[] photoIds = {\r\n            R.drawable.photo_1,\r\n            R.drawable.photo_2,\r\n            R.drawable.photo_3,\r\n            R.drawable.photo_4,\r\n            R.drawable.photo_5\r\n    };\r\n    private int currentPosition = 0;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n        PhotoAdapter photoAdapter = new PhotoAdapter(photoIds);\r\n        binding.viewPager.setAdapter(photoAdapter);\r\n\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.main));\r\n\r\n        databaseHelper = new DatabaseHelper(this);\r\n\r\n        String userEmail = getUserEmail();\r\n        String userPassword = getUserPassword();\r\n\r\n        binding.likebutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                NotificationHelper.showHeart(MainActivity.this);\r\n            }\r\n        });\r\n\r\n        binding.viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                currentPosition = position;\r\n                if(currentPosition == 0){\r\n                    binding.chooseImage.setImageResource(R.drawable.left2choosed);\r\n                } else if (currentPosition == 1) {\r\n                    binding.chooseImage.setImageResource(R.drawable.left1choosed);\r\n                } else if (currentPosition == 2) {\r\n                    binding.chooseImage.setImageResource(R.drawable.centerchoosed);\r\n                } else if (currentPosition == 3){\r\n                    binding.chooseImage.setImageResource(R.drawable.right1choosed);\r\n                } else{\r\n                    binding.chooseImage.setImageResource(R.drawable.right2choosed);\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.profileButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, OwnProfileActivity.class);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        binding.dislikebutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Users.getRandomUserFromPool(getUID(),\"male\", \"female\", new Users.OnUserDataListener() {\r\n                    @Override\r\n                    public void onDataLoaded(String userName) {\r\n                        binding.nameTextView.setText(userName);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onDataLoaded(Users user) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onDataNotAvailable() {\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private String getUserEmail() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"email\", \"\");\r\n    }\r\n\r\n    private String getUserPassword() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"password\", \"\");\r\n    }\r\n\r\n    private String getUID(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"UID\", \"\");\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/meetyou/MainActivity.java b/app/src/main/java/com/example/meetyou/MainActivity.java
---- a/app/src/main/java/com/example/meetyou/MainActivity.java	
-+++ b/app/src/main/java/com/example/meetyou/MainActivity.java	
-@@ -20,7 +20,8 @@
- public class MainActivity extends AppCompatActivity {
- 
-     FirebaseAuth mAuth;
--    @NonNull ActivityMainBinding binding;
-+    @NonNull
-+    ActivityMainBinding binding;
-     DatabaseHelper databaseHelper;
-     private int[] photoIds = {
-             R.drawable.photo_1,
-@@ -30,6 +31,7 @@
-             R.drawable.photo_5
-     };
-     private int currentPosition = 0;
-+
-     @Override
-     protected void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-@@ -58,15 +60,15 @@
-             @Override
-             public void onPageSelected(int position) {
-                 currentPosition = position;
--                if(currentPosition == 0){
-+                if (currentPosition == 0) {
-                     binding.chooseImage.setImageResource(R.drawable.left2choosed);
-                 } else if (currentPosition == 1) {
-                     binding.chooseImage.setImageResource(R.drawable.left1choosed);
-                 } else if (currentPosition == 2) {
-                     binding.chooseImage.setImageResource(R.drawable.centerchoosed);
--                } else if (currentPosition == 3){
-+                } else if (currentPosition == 3) {
-                     binding.chooseImage.setImageResource(R.drawable.right1choosed);
--                } else{
-+                } else {
-                     binding.chooseImage.setImageResource(R.drawable.right2choosed);
-                 }
-             }
-@@ -85,10 +87,11 @@
-         binding.dislikebutton.setOnClickListener(new View.OnClickListener() {
-             @Override
-             public void onClick(View view) {
--                Users.getRandomUserFromPool(getUID(),"male", "female", new Users.OnUserDataListener() {
-+                Users.getRandomUserFromPool(getUID(), getFindGender(), getGender(), getWeight(), getHeight(), getFindHeight(), getFindWeight(), getAge(), getMinAge(), getMaxAge(), new Users.OnUserDataListener() {
-                     @Override
--                    public void onDataLoaded(String userName) {
-+                    public void onDataLoaded(String userName, String bio) {
-                         binding.nameTextView.setText(userName);
-+                        binding.informationTextView.setText(bio);
-                     }
- 
-                     @Override
-@@ -115,8 +118,53 @@
-         return sharedPreferences.getString("password", "");
-     }
- 
--    private String getUID(){
-+    private String getUID() {
-         SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-         return sharedPreferences.getString("UID", "");
-     }
-+
-+    private String getFindGender() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getString("findGender", "");
-+    }
-+
-+    private String getGender() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getString("findGender", "");
-+    }
-+
-+    private String getWeight() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getString("weight", "");
-+    }
-+
-+    private String getHeight() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getString("height", "");
-+    }
-+
-+    private String getFindHeight() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getString("findHeight", "");
-+    }
-+
-+    private String getFindWeight() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getString("findWeight", "");
-+    }
-+
-+    private int getAge() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getInt("age", 0);
-+    }
-+
-+    private int getMinAge() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getInt("minAge", 0);
-+    }
-+
-+    private int getMaxAge() {
-+        SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
-+        return sharedPreferences.getInt("maxAge", 0);
-+    }
- }
-\ No newline at end of file
Index: app/src/main/java/com/example/meetyou/Messager/Chat.java
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/Messager/Chat.java b/app/src/main/java/com/example/meetyou/Messager/Chat.java
deleted file mode 100644
--- a/app/src/main/java/com/example/meetyou/Messager/Chat.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ /dev/null	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
@@ -1,40 +0,0 @@
-package com.example.meetyou.Messager;
-
-public class Chat {
-    String userName;
-    String profilePhoto;
-    String firstMessage;
-
-    public Chat() {
-    }
-
-    public Chat(String userName, String profilePhoto, String firstMessage) {
-        this.userName = userName;
-        this.profilePhoto = profilePhoto;
-        this.firstMessage = firstMessage;
-    }
-
-    public String getUserName() {
-        return userName;
-    }
-
-    public void setUserName(String userName) {
-        this.userName = userName;
-    }
-
-    public String getProfilePhoto() {
-        return profilePhoto;
-    }
-
-    public void setProfilePhoto(String profilePhoto) {
-        this.profilePhoto = profilePhoto;
-    }
-
-    public String getFirstMessage() {
-        return firstMessage;
-    }
-
-    public void setFirstMessage(String firstMessage) {
-        this.firstMessage = firstMessage;
-    }
-}
Index: .idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26__Changes_.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ /dev/null	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_02_08_2023_23_26_[Changes]" date="1691008031196" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 02.08.2023 23:26 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43__Changes_1.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43__Changes_1.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43__Changes_1.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ /dev/null	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_03_08_2023_1_43_[Changes]1" date="1691016365428" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_03_08_2023_1_43_[Changes]1/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 03.08.2023 1:43 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_02_08_2023_23_26_[Changes]/shelved.patch	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ /dev/null	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
@@ -1,28 +0,0 @@
-Index: app/src/main/java/com/example/meetyou/MYFiles/Users.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.meetyou.MYFiles;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Users {\r\n    String UID, email, name, bio, height, weight, gender, findGender, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5;\r\n    int age, boosts, likes, megasymps;\r\n\r\n    boolean verified;\r\n\r\n    public Users() {\r\n    }\r\n\r\n    public Users(String UID, String email, String name, String bio, String height, String weight, String gender, String findGender, String hobbies, String target,\r\n                 String color, String status,\r\n                 String photo1, String photo2, String photo3, String photo4, int age, int boosts, int likes, int megasymps, boolean verified)\r\n    {\r\n        this.UID = UID;\r\n        this.email = email;\r\n        this.name = name;\r\n        this.bio = bio;\r\n        this.height = height;\r\n        this.weight = weight;\r\n        this.gender = gender;\r\n        this.findGender = findGender;\r\n        this.hobbies = hobbies;\r\n        this.target = target;\r\n        this.color = color;\r\n        this.status = status;\r\n        this.photo1 = photo1;\r\n        this.photo2 = photo2;\r\n        this.photo3 = photo3;\r\n        this.photo4 = photo4;\r\n        this.photo5 = photo5;\r\n        this.age = age;\r\n        this.boosts = boosts;\r\n        this.likes = likes;\r\n        this.megasymps = megasymps;\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getPhoto1() {\r\n        return photo1;\r\n    }\r\n\r\n    public void setPhoto1(String photo1) {\r\n        this.photo1 = photo1;\r\n    }\r\n\r\n    public String getPhoto2() {\r\n        return photo2;\r\n    }\r\n\r\n    public void setPhoto2(String photo2) {\r\n        this.photo2 = photo2;\r\n    }\r\n\r\n    public String getPhoto3() {\r\n        return photo3;\r\n    }\r\n\r\n    public void setPhoto3(String photo3) {\r\n        this.photo3 = photo3;\r\n    }\r\n\r\n    public String getPhoto4() {\r\n        return photo4;\r\n    }\r\n\r\n    public void setPhoto4(String photo4) {\r\n        this.photo4 = photo4;\r\n    }\r\n\r\n    public String getPhoto5() {\r\n        return photo5;\r\n    }\r\n\r\n    public void setPhoto5(String photo5) {\r\n        this.photo5 = photo5;\r\n    }\r\n\r\n    public int getBoosts() {\r\n        return boosts;\r\n    }\r\n\r\n    public void setBoosts(int boosts) {\r\n        this.boosts = boosts;\r\n    }\r\n\r\n    public int getLikes() {\r\n        return likes;\r\n    }\r\n\r\n    public void setLikes(int likes) {\r\n        this.likes = likes;\r\n    }\r\n\r\n    public int getMegasymps() {\r\n        return megasymps;\r\n    }\r\n\r\n    public void setMegasymps(int megasymps) {\r\n        this.megasymps = megasymps;\r\n    }\r\n\r\n    public boolean isVerified() {\r\n        return verified;\r\n    }\r\n\r\n    public void setVerified(boolean verified) {\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getUID() {\r\n        return UID;\r\n    }\r\n\r\n    public void setUID(String UID) {\r\n        this.UID = UID;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getBio() {\r\n        return bio;\r\n    }\r\n\r\n    public void setBio(String bio) {\r\n        this.bio = bio;\r\n    }\r\n\r\n    public String getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(String height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public String getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(String weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getFindGender() {\r\n        return findGender;\r\n    }\r\n\r\n    public void setFindGender(String findGender) {\r\n        this.findGender = findGender;\r\n    }\r\n\r\n    public String getHobbies() {\r\n        return hobbies;\r\n    }\r\n\r\n    public void setHobbies(String hobbies) {\r\n        this.hobbies = hobbies;\r\n    }\r\n\r\n    public String getTarget() {\r\n        return target;\r\n    }\r\n\r\n    public void setTarget(String target) {\r\n        this.target = target;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public static void updateUserName(String UID, String newName) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"name\");\r\n        userRef.setValue(newName);\r\n    }\r\n\r\n    public static void updateUserBio(String UID, String newBio) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"bio\");\r\n        userRef.setValue(newBio);\r\n    }\r\n\r\n    public static void updateUserHeight(String UID, String newHeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"height\");\r\n        userRef.setValue(newHeight);\r\n    }\r\n\r\n    public static void updateUserWeight(String UID, String newWeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"weight\");\r\n        userRef.setValue(newWeight);\r\n    }\r\n\r\n    public static void updateUserGender(String UID, String newGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"gender\");\r\n        userRef.setValue(newGender);\r\n    }\r\n\r\n    public static void updateUserFindGender(String UID, String newFindGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findGender\");\r\n        userRef.setValue(newFindGender);\r\n    }\r\n\r\n    public static void updateUserHobbies(String UID, String newHobbies) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"hobbies\");\r\n        userRef.setValue(newHobbies);\r\n    }\r\n\r\n    public static void updateUserTarget(String UID, String newTarget) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"target\");\r\n        userRef.setValue(newTarget);\r\n    }\r\n\r\n    public static void updateUserColor(String UID, String newColor) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"color\");\r\n        userRef.setValue(newColor);\r\n    }\r\n\r\n    public static void updateUserStatus(String UID, String newStatus) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"status\");\r\n        userRef.setValue(newStatus);\r\n    }\r\n\r\n    public static void updateUserAge(String UID, int newAge) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"age\");\r\n        userRef.setValue(newAge);\r\n    }\r\n\r\n    public static void updateVerification(String UID, boolean newVerification){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"verified\");\r\n        userRef.setValue(newVerification);\r\n    }\r\n\r\n\r\n    public static void updateUserPhoto(String UID, String photoName,String photoURL){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(photoName);\r\n        userRef.setValue(photoURL);\r\n    }\r\n\r\n    public static void getUserDataFromFirebase(String UID, final OnUserDataListener listener) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Users user = dataSnapshot.getValue(Users.class);\r\n                if (user != null) {\r\n                    listener.onDataLoaded(user);\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n\r\n    public interface OnUserDataListener {\r\n        void onDataLoaded(String userName);\r\n\r\n        void onDataLoaded(Users user);\r\n        void onDataNotAvailable();\r\n    }\r\n\r\n    public void saveUserDataToSharedPreferences(Context context) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"UID\", this.UID);\r\n        editor.putString(\"name\", this.name);\r\n        editor.putString(\"bio\", this.bio);\r\n        editor.putString(\"height\", this.height);\r\n        editor.putString(\"weight\", this.weight);\r\n        editor.putString(\"gender\", this.gender);\r\n        editor.putString(\"findGender\", this.findGender);\r\n        editor.putString(\"hobbies\", this.hobbies);\r\n        editor.putString(\"target\", this.target);\r\n        editor.putString(\"color\", this.color);\r\n        editor.putString(\"status\", this.status);\r\n        editor.putString(\"photo1\", this.photo1);\r\n        editor.putString(\"photo2\", this.photo2);\r\n        editor.putString(\"photo3\", this.photo3);\r\n        editor.putString(\"photo4\", this.photo4);\r\n        editor.putString(\"photo5\", this.photo5);\r\n        editor.putInt(\"age\", this.age);\r\n        editor.putInt(\"boosts\", this.boosts);\r\n        editor.putInt(\"likes\", this.likes);\r\n        editor.putInt(\"megasymps\", this.megasymps);\r\n        editor.putBoolean(\"verified\", this.verified);\r\n        editor.apply();\r\n    }\r\n\r\n    public static Users getUserDataFromSharedPreferences(Context context) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n        String UID = sharedPreferences.getString(\"UID\", \"\");\r\n        String name = sharedPreferences.getString(\"name\", \"\");\r\n        String bio = sharedPreferences.getString(\"bio\", \"\");\r\n        String height = sharedPreferences.getString(\"height\", \"\");\r\n        String weight = sharedPreferences.getString(\"weight\", \"\");\r\n        String gender = sharedPreferences.getString(\"gender\", \"\");\r\n        String findGender = sharedPreferences.getString(\"findGender\", \"\");\r\n        String hobbies = sharedPreferences.getString(\"hobbies\", \"\");\r\n        String target = sharedPreferences.getString(\"target\", \"\");\r\n        String color = sharedPreferences.getString(\"color\", \"\");\r\n        String status = sharedPreferences.getString(\"status\", \"\");\r\n        String photo1 = sharedPreferences.getString(\"photo1\", \"\");\r\n        String photo2 = sharedPreferences.getString(\"photo2\", \"\");\r\n        String photo3 = sharedPreferences.getString(\"photo3\", \"\");\r\n        String photo4 = sharedPreferences.getString(\"photo4\", \"\");\r\n        String photo5 = sharedPreferences.getString(\"photo5\", \"\");\r\n        int age = sharedPreferences.getInt(\"age\", 0);\r\n        int boosts = sharedPreferences.getInt(\"boosts\", 0);\r\n        int likes = sharedPreferences.getInt(\"likes\", 0);\r\n        int megasymps = sharedPreferences.getInt(\"megasymps\", 0);\r\n        boolean verified = sharedPreferences.getBoolean(\"verified\", false);\r\n\r\n        return new Users(UID, name, bio, height, weight, gender, findGender, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5, age, boosts, likes, megasymps, verified);\r\n    }\r\n\r\n\r\n\r\n    public static void getRandomUserFromPool(String findGender, String gender, final OnUserDataListener listener) {\r\n        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        Query query = usersRef.orderByChild(\"gender\").equalTo(gender);\r\n\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                List<Users> femaleUsers = new ArrayList<>();\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    Users user = snapshot.getValue(Users.class);\r\n                    if (user != null && user.getFindGender().equals(findGender)) {\r\n                        femaleUsers.add(user);\r\n                    }\r\n                }\r\n\r\n                if (!femaleUsers.isEmpty()) {\r\n                    int randomIndex = new Random().nextInt(femaleUsers.size());\r\n                    Users randomFemaleUser = femaleUsers.get(randomIndex);\r\n                    listener.onDataLoaded(randomFemaleUser.getName());\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/meetyou/MYFiles/Users.java b/app/src/main/java/com/example/meetyou/MYFiles/Users.java
---- a/app/src/main/java/com/example/meetyou/MYFiles/Users.java	(revision 6e87de63a3452d6dd8161b3ae30c074e6c0412a3)
-+++ b/app/src/main/java/com/example/meetyou/MYFiles/Users.java	(date 1691007182944)
-@@ -376,7 +376,7 @@
- 
- 
- 
--    public static void getRandomUserFromPool(String findGender, String gender, final OnUserDataListener listener) {
-+    public static void getRandomUserFromPool(String findGender, String gender, String weight, String height, String findHeight, String findWeight, int age, int findMinAge, int findMaxAge,  final OnUserDataListener listener) {
-         DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference("Users");
-         Query query = usersRef.orderByChild("gender").equalTo(gender);
- 
-@@ -386,7 +386,7 @@
-                 List<Users> femaleUsers = new ArrayList<>();
-                 for (DataSnapshot snapshot : dataSnapshot.getChildren()) {
-                     Users user = snapshot.getValue(Users.class);
--                    if (user != null && user.getFindGender().equals(findGender)) {
-+                    if (user != null && user.getFindGender().equals(findGender) && user.getWeight().equals(findWeight) && user.getHeight().equals(findHeight) ) {
-                         femaleUsers.add(user);
-                     }
-                 }
Index: .idea/deploymentTargetDropDown.xml
===================================================================
diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
deleted file mode 100644
--- a/.idea/deploymentTargetDropDown.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ /dev/null	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
@@ -1,17 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="deploymentTargetDropDown">
-    <targetSelectedWithDropDown>
-      <Target>
-        <type value="QUICK_BOOT_TARGET" />
-        <deviceKey>
-          <Key>
-            <type value="VIRTUAL_DEVICE_PATH" />
-            <value value="C:\Users\User\.android\avd\Pixel_3a_API_34_extension_level_7_x86_64.avd" />
-          </Key>
-        </deviceKey>
-      </Target>
-    </targetSelectedWithDropDown>
-    <timeTargetWasSelectedWithDropDown value="2023-08-08T18:58:19.799304700Z" />
-  </component>
-</project>
\ No newline at end of file
Index: app/src/main/java/com/example/meetyou/SignUpActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou;\r\n\r\n// Импортируем необходимые библиотеки\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.util.Patterns;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.databinding.ActivityRegisterationBinding;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.SignInMethodQueryResult;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n\r\n    public String email;\r\n\r\n    // Объявляем переменные и объекты\r\n    ActivityRegisterationBinding binding;\r\n    private FirebaseAuth mAuth;\r\n    private StorageReference storageReference;\r\n\r\n    FirebaseDatabase db;\r\n    DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityRegisterationBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(SignUpActivity.this, R.color.main));\r\n\r\n        AppCompatButton backButton = findViewById(R.id.go_back_button);\r\n        backButton.setOnClickListener(v -> finish());\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        // Обрабатываем нажатие кнопки \"Зарегистрироваться\"\r\n        binding.signUpButton.setOnClickListener(v -> {\r\n            email = binding.mailText.getText().toString().trim();\r\n            String password = binding.password.getText().toString();\r\n            String confirmPassword = binding.confirmPassword.getText().toString();\r\n\r\n            // Проверяем корректность введенного email\r\n            if (isValidEmail(email)) {\r\n                // Проверяем длину пароля\r\n                if (password.length() < 8) {\r\n                    NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.wrong_password_lenght_message), getString(R.string.close), 0, 0, 0,0);\r\n                } else if (!password.matches(\".*[A-Z].*\")) {\r\n                    NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.wrong_password_chars_format_message), getString(R.string.close), 0, 0, 0,0);\r\n                } else if (password.contains(\" \")) {\r\n                    NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.password_has_spaces_message), getString(R.string.close), 0, 0, 0,0);\r\n                } else if (!confirmPassword.equals(password)) {\r\n                    NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.wrong_confirm_password_message), getString(R.string.close), 0, 0, 0,0);\r\n                } else {\r\n                    String sanitizedEmail = sanitizeEmail(email);\r\n                    // Проверяем, зарегистрирован ли уже такой email\r\n                    checkIfEmailIsUsed(email, password);\r\n                    // Создаем нового пользователя и сохраняем его в базу данных\r\n//                    Users users = new Users(sanitizedEmail, false,\"none\", \"none\", \"none\", \"none\", \"none\", \"none\", \"none\", \"none\", \"#2C59CC\", \"basic\",0);\r\n                    saveUID(sanitizedEmail);\r\n                    db = FirebaseDatabase.getInstance();\r\n                    reference = db.getReference(\"Users\");\r\n//                    reference.child(sanitizedEmail).setValue(users);\r\n                }\r\n            } else {\r\n                NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.wrong_mail_format_message), getString(R.string.close), 0, 0, 0,R.color.main);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        mAuth.signOut();\r\n        FirebaseAuth.getInstance().signOut();\r\n        super.onStart();\r\n        if(currentUser != null){\r\n            currentUser.reload();\r\n        }\r\n    }\r\n\r\n    // Метод для регистрации нового пользователя\r\n    private void registerUser(String email, String password) {\r\n        mAuth.fetchSignInMethodsForEmail(email).addOnCompleteListener(this, new OnCompleteListener<SignInMethodQueryResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<SignInMethodQueryResult> task) {\r\n                if (task.isSuccessful()) {\r\n                    SignInMethodQueryResult result = task.getResult();\r\n                    if (result != null && result.getSignInMethods() != null && result.getSignInMethods().size() > 0) {\r\n                        NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.email_was_used_message), getString(R.string.close), 0, 0, 0, R.color.main);\r\n                    } else {\r\n                        mAuth.createUserWithEmailAndPassword(email, password)\r\n                                .addOnCompleteListener(SignUpActivity.this, new OnCompleteListener<AuthResult>() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                                        if (task.isSuccessful()) {\r\n                                            Toast.makeText(SignUpActivity.this, R.string.success_registration_message, Toast.LENGTH_SHORT).show();\r\n//                                            usertoDataBase(email, 999);\r\n                                            String sanitizedEmail = sanitizeEmail(email);\r\n                                            createFirebaseStorageFolder(sanitizedEmail);\r\n                                            mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                                @Override\r\n                                                public void onComplete(@NonNull Task<Void> task) {\r\n                                                    if(task.isSuccessful()){\r\n                                                        NotificationHelper.showCustomNotification(SignUpActivity.this, \"Verification\", \"We have sent a verification email to your inbox! Verify your email after completing registration!\", getString(R.string.close), 0, 0, 0, R.color.main);\r\n                                                    }\r\n                                                    else {\r\n                                                        NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.registration_error_message), getString(R.string.close), 0, 0, 0, R.color.main);\r\n                                                    }\r\n                                                }\r\n                                            });\r\n                                        } else {\r\n                                            NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.registration_error_message), getString(R.string.close), 0, 0, 0, R.color.main);\r\n                                        }\r\n                                    }\r\n                                });\r\n                    }\r\n                } else {\r\n                    Log.e(TAG, \"Error checking email existence: \" + task.getException());\r\n                    Toast.makeText(SignUpActivity.this, R.string.registration_error_message, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Метод для создания папки пользователя в Firebase Storage\r\n    private void createFirebaseStorageFolder(String folderName) {\r\n        StorageReference folderRef = storageReference.child(folderName);\r\n        folderRef.putBytes(new byte[0])\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        Log.e(TAG, \"Папка \" + sanitizeEmail(email) + \" успешно создана\");\r\n                    } else {\r\n                        Log.e(TAG, \"Ошибка при создании папки в Firebase Storage: \" + task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n    // Метод для проверки, зарегистрирован ли уже такой email\r\n    private void checkIfEmailIsUsed(String email, String password) {\r\n        mAuth.fetchSignInMethodsForEmail(email).addOnCompleteListener(this, new OnCompleteListener<SignInMethodQueryResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<SignInMethodQueryResult> task) {\r\n                if (task.isSuccessful()) {\r\n                    SignInMethodQueryResult result = task.getResult();\r\n                    if (result != null && result.getSignInMethods() != null && result.getSignInMethods().size() > 0) {\r\n                        NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.email_was_used_message), getString(R.string.close), 0, 0, 0, R.color.main);\r\n                    } else {\r\n                        // Если email не зарегистрирован, регистрируем нового пользователя\r\n                        registerUser(email, password);\r\n                        saveUserEmail(email);\r\n                        Intent intent = new Intent(SignUpActivity.this, ChooseGenderActivity.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }\r\n                } else {\r\n                    Log.e(TAG, \"Error checking email status: \" + task.getException());\r\n                    NotificationHelper.showCustomNotification(SignUpActivity.this, null, getString(R.string.registration_error_message), getString(R.string.close), 0, 0, 0, R.color.main);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Метод для сохранения данных пользователя в базу данных\r\n//    private void usertoDataBase(String email, int age) {\r\n//        HashMap<String, Object> user = new HashMap<>();\r\n//        user.put(\"age\", 1);\r\n//\r\n//        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n//        databaseReference.child(email).setValue(user).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n//            @Override\r\n//            public void onComplete(@NonNull Task<Void> task) {\r\n//                if (task.isSuccessful()) {\r\n//                } else {\r\n//                    Toast.makeText(SignUpActivity.this, \"Failed to save data\", Toast.LENGTH_SHORT).show();\r\n//                }\r\n//            }\r\n//        });\r\n//    }\r\n\r\n    // Метод для проверки корректности введенного email\r\n    private boolean isValidEmail(String email) {\r\n        return Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n    }\r\n\r\n    // Методы для сохранения информации о пользователе в SharedPreferences\r\n    private void saveUserInfo(String email, String password) {\r\n        SharedPreferences preferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        editor.putString(\"email\", email);\r\n        editor.putString(\"password\", password);\r\n        editor.apply();\r\n    }\r\n\r\n    private void saveUserID(long userID) {\r\n        SharedPreferences preferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        editor.putLong(\"userID\", userID);\r\n        editor.apply();\r\n    }\r\n\r\n    private void saveUserEmail(String email){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"userEmail\", email);\r\n        editor.apply();\r\n    }\r\n\r\n    private void saveUID(String UID){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"UID\", UID);\r\n        editor.apply();\r\n    }\r\n\r\n    // Метод для удаления из email специальных символов, которые не поддерживаются в Firebase\r\n    public String sanitizeEmail(String email) {\r\n        String sanitizedEmail = email.replaceAll(\"[.@#$\\\\[\\\\]]\", \"\");\r\n        return sanitizedEmail;\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/SignUpActivity.java b/app/src/main/java/com/example/meetyou/SignUpActivity.java
--- a/app/src/main/java/com/example/meetyou/SignUpActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/SignUpActivity.java	(date 1691665660809)
@@ -81,8 +81,9 @@
                     // Создаем нового пользователя и сохраняем его в базу данных
 //                    Users users = new Users(sanitizedEmail, false,"none", "none", "none", "none", "none", "none", "none", "none", "#2C59CC", "basic",0);
                     saveUID(sanitizedEmail);
-                    db = FirebaseDatabase.getInstance();
-                    reference = db.getReference("Users");
+                    saveUserEmail(email);
+//                    db = FirebaseDatabase.getInstance();
+//                    reference = db.getReference("Users");
 //                    reference.child(sanitizedEmail).setValue(users);
                 }
             } else {
@@ -171,7 +172,7 @@
                     } else {
                         // Если email не зарегистрирован, регистрируем нового пользователя
                         registerUser(email, password);
-                        saveUserEmail(email);
+                        saveUserInfo(email, password);
                         Intent intent = new Intent(SignUpActivity.this, ChooseGenderActivity.class);
                         startActivity(intent);
                         finish();
@@ -212,6 +213,7 @@
         SharedPreferences.Editor editor = preferences.edit();
         editor.putString("email", email);
         editor.putString("password", password);
+        editor.putBoolean("remember_me", true);
         editor.apply();
     }
 
@@ -225,7 +227,7 @@
     private void saveUserEmail(String email){
         SharedPreferences sharedPreferences = getSharedPreferences("UserPrefs", MODE_PRIVATE);
         SharedPreferences.Editor editor = sharedPreferences.edit();
-        editor.putString("userEmail", email);
+        editor.putString("email", email);
         editor.apply();
     }
 
Index: app/src/main/java/com/example/meetyou/Messager/ChatAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/Messager/ChatAdapter.java b/app/src/main/java/com/example/meetyou/Messager/ChatAdapter.java
new file mode 100644
--- /dev/null	(date 1691749440173)
+++ b/app/src/main/java/com/example/meetyou/Messager/ChatAdapter.java	(date 1691749440173)
@@ -0,0 +1,172 @@
+package com.example.meetyou.Messager;
+
+import android.content.Context;
+import android.content.SharedPreferences;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.BaseAdapter;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+
+import com.example.meetyou.R;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+import com.squareup.picasso.Picasso;
+
+import java.util.ArrayList;
+
+public class ChatAdapter extends BaseAdapter {
+    private Context context;
+    private ArrayList<ChatItem> chatItems;
+
+    public ChatAdapter(Context context, ArrayList<ChatItem> chatItems) {
+        this.context = context;
+        this.chatItems = chatItems;
+    }
+
+    @Override
+    public int getCount() {
+        return chatItems.size();
+    }
+
+    @Override
+    public Object getItem(int position) {
+        return chatItems.get(position);
+    }
+
+    @Override
+    public long getItemId(int position) {
+        return position;
+    }
+
+    @Override
+    public View getView(int position, View convertView, ViewGroup parent) {
+        ViewHolder holder;
+        if (convertView == null) {
+            convertView = LayoutInflater.from(context).inflate(R.layout.chat_layout, parent, false);
+            holder = new ViewHolder();
+            holder.profilePhoto = convertView.findViewById(R.id.profile_photo);
+            holder.nameTextView = convertView.findViewById(R.id.name_text_view);
+            holder.messageTextView = convertView.findViewById(R.id.message_text_view);
+            convertView.setTag(holder);
+        } else {
+            holder = (ViewHolder) convertView.getTag();
+        }
+
+        ChatItem chatItem = chatItems.get(position);
+        getUserUID(new OnUIDReceivedListener() {
+            @Override
+            public void onUIDReceived(String UID) {
+                if (UID != null){
+                    if (chatItem.getName1().equals(UID)) {
+                        getUserName(chatItem.getName2(), new OnNameReceivedListener() {
+                            @Override
+                            public void onNameReceived(String name) {
+                                holder.nameTextView.setText(name);
+                            }
+                        });
+                        holder.messageTextView.setText(chatItem.getMessage2());
+                        customPhotoLoadingToClient(chatItem.getChatUID(),"profilePhoto2", holder.profilePhoto);
+                    } else if (chatItem.getName2().equals(UID)) {
+                        getUserName(chatItem.getName1(), new OnNameReceivedListener() {
+                            @Override
+                            public void onNameReceived(String name) {
+                                holder.nameTextView.setText(name);
+                            }
+                        });
+//                        holder.nameTextView.setText(chatItem.getName1());
+                        holder.messageTextView.setText(chatItem.getMessage1());
+                        customPhotoLoadingToClient(chatItem.getChatUID(), "profilePhoto1", holder.profilePhoto);
+                    }
+                }
+            }
+        });
+        return convertView;
+    }
+
+    private static class ViewHolder {
+        ImageView profilePhoto;
+        TextView nameTextView;
+        TextView messageTextView;
+    }
+
+    private void getUserUID(final OnUIDReceivedListener listener) {
+        DatabaseReference UIDRef = FirebaseDatabase.getInstance().getReference("Users").child(getUID()).child("UID");
+        UIDRef.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                String UID = snapshot.getValue(String.class);
+                if (UID != null) {
+                    listener.onUIDReceived(UID);
+                } else {
+                    listener.onUIDReceived(" ");
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                listener.onUIDReceived(" ");
+            }
+        });
+    }
+
+    interface OnUIDReceivedListener {
+        void onUIDReceived(String UID);
+    }
+
+    private void getUserName(String UID, final OnNameReceivedListener listener) {
+        DatabaseReference nameRef = FirebaseDatabase.getInstance().getReference("Users").child(UID).child("name");
+        nameRef.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                String name = snapshot.getValue(String.class);
+                if (name != null) {
+                    listener.onNameReceived(name);
+                } else {
+                    listener.onNameReceived(" ");
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                listener.onNameReceived(" ");
+            }
+        });
+    }
+
+    interface OnNameReceivedListener {
+        void onNameReceived(String name);
+    }
+
+    private void customPhotoLoadingToClient(String currentChat, String photoName, ImageView imageView) {
+        DatabaseReference imagesRef = FirebaseDatabase.getInstance().getReference("Chats").child(currentChat).child(photoName);
+        imagesRef.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                String imageUrl = snapshot.getValue(String.class);
+                if (imageUrl != null) {
+                    // Загрузка изображения с помощью библиотеки Picasso
+                    Picasso.get().load(imageUrl).into(imageView);
+                } else {
+                    // Обработка ошибки, если изображение не удалось загрузить
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                // Обработка ошибки, если загрузка изображения не удалась
+            }
+        });
+    }
+
+    private String getUID() {
+        SharedPreferences sharedPreferences = context.getSharedPreferences("UserPrefs", Context.MODE_PRIVATE);
+        return sharedPreferences.getString("UID", "");
+    }
+}
Index: app/src/main/res/layout/activity_options.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".OptionsActivity\"\r\n    android:background=\"@color/white\">\r\n\r\n<!--    <ScrollView-->\r\n<!--        android:layout_width=\"match_parent\"-->\r\n<!--        android:layout_height=\"match_parent\"-->\r\n<!--        android:layout_marginTop=\"42dp\"-->\r\n<!--        android:layout_below=\"@+id/main_header\"-->\r\n<!--        android:layout_above=\"@+id/main_bottom_buttons\">-->\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_below=\"@+id/main_header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n    <LinearLayout\r\n        android:id=\"@+id/work_space_layout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\"\r\n        android:scrollbarAlwaysDrawVerticalTrack=\"true\"\r\n        android:overScrollMode=\"always\">\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/change_password_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_marginEnd=\"15dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:gravity=\"center_vertical\"\r\n            android:paddingLeft=\"25dp\"\r\n            android:text=\"@string/change_password\"\r\n            android:textAllCaps=\"false\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"16sp\" />\r\n\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/change_email_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_marginEnd=\"15dp\"\r\n            android:layout_marginBottom=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:gravity=\"center_vertical\"\r\n            android:paddingLeft=\"25dp\"\r\n            android:text=\"@string/change_e_mail\"\r\n            android:textAllCaps=\"false\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"16sp\" />\r\n\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/update_photos_button\"\r\n            android:layout_alignTop=\"@+id/change_email_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"@string/update_photos\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/change_name_button\"\r\n            android:layout_alignTop=\"@+id/update_photos_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"@string/change_name\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/change_bio_button\"\r\n            android:layout_alignTop=\"@+id/change_name_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"Change bio\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/change_interests_button\"\r\n            android:layout_alignTop=\"@+id/change_bio_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"@string/change_interests\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n\r\n        <TextView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_centerInParent=\"true\"\r\n            android:text=\"Слайдера пока нет\"\r\n            android:gravity=\"center\"\r\n            android:layout_gravity=\"center\"\r\n            android:textColor=\"@color/main\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n        <TextView\r\n            android:id=\"@+id/vip_functions_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_alignParentLeft=\"true\"\r\n            android:layout_marginLeft=\"20dp\"\r\n            android:textColor=\"@color/main\"\r\n            android:textStyle=\"bold\"\r\n            android:text=\"@string/vip_functions\"\r\n            android:textSize=\"18sp\"/>\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/global_search_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_centerVertical=\"true\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"@string/global_search\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n        <TextView\r\n            android:id=\"@+id/premium_functions_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_alignParentLeft=\"true\"\r\n            android:layout_marginLeft=\"20dp\"\r\n            android:textColor=\"@color/main\"\r\n            android:textStyle=\"bold\"\r\n            android:text=\"@string/premium_functions\"\r\n            android:textSize=\"18sp\"/>\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/profile_color_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_centerVertical=\"true\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"@string/profile_color\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n        <TextView\r\n            android:id=\"@+id/luxe_functions_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_alignParentLeft=\"true\"\r\n            android:layout_marginLeft=\"20dp\"\r\n            android:textColor=\"@color/main\"\r\n            android:textStyle=\"bold\"\r\n            android:text=\"@string/luxe_functions\"\r\n            android:textSize=\"18sp\"/>\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/avoid_list_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_centerVertical=\"true\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"@string/avoid_list\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n        <TextView\r\n            android:id=\"@+id/other_functions_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_alignParentLeft=\"true\"\r\n            android:layout_marginLeft=\"20dp\"\r\n            android:textColor=\"@color/main\"\r\n            android:textStyle=\"bold\"\r\n            android:text=\"@string/other\"\r\n            android:textSize=\"18sp\"/>\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/FAQ_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:layout_centerVertical=\"true\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow\"\r\n            android:text=\"@string/faq_support\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/sign_out_button\"\r\n            android:layout_alignTop=\"@+id/other_functions_layout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"25dp\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow_gray\"\r\n            android:text=\"Sign Out\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/delete_account_button\"\r\n            android:layout_alignTop=\"@+id/sign_out_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:background=\"@drawable/buttonwitharrow_red\"\r\n            android:text=\"Delete Account\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"center_vertical\"\r\n            android:textAllCaps=\"false\"\r\n            android:textSize=\"16sp\"\r\n            android:paddingLeft=\"25dp\"/>\r\n        <Space\r\n            android:layout_alignTop=\"@+id/delete_account_button\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"30dp\"/>\r\n    </LinearLayout>\r\n    </androidx.core.widget.NestedScrollView>\r\n<!--    </ScrollView>-->\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/main_header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"42dp\"\r\n        android:orientation=\"horizontal\"\r\n        android:elevation=\"15dp\"\r\n        android:background=\"@android:color/white\"\r\n        tools:ignore=\"MissingConstraints\">\r\n        <TextView\r\n            android:id=\"@+id/meet\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_marginLeft=\"25dp\"\r\n            android:gravity=\"center_vertical\"\r\n            android:layout_alignParentLeft=\"true\"\r\n            android:text=\"meet\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\"\r\n            android:textColor=\"#2C59CC\"/>\r\n        <TextView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_marginLeft=\"40dp\"\r\n            android:gravity=\"center_vertical\"\r\n            android:layout_alignLeft=\"@+id/meet\"\r\n            android:text=\"you\"\r\n            android:textSize=\"16sp\"\r\n            android:textColor=\"#000000\"\r\n            android:paddingRight=\"16dp\"/>\r\n        <FrameLayout\r\n            android:layout_width=\"28dp\"\r\n            android:layout_height=\"42dp\"\r\n            android:layout_alignRight=\"@+id/profile_layout\"\r\n            android:layout_marginRight=\"45dp\"\r\n            android:layout_marginLeft=\"5dp\">\r\n            <ImageView\r\n                android:id=\"@+id/imageView2\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:scaleType=\"fitCenter\"\r\n                app:srcCompat=\"@drawable/messagerbutton\" />\r\n            <Button\r\n                android:id=\"@+id/message_button\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:background=\"@android:color/transparent\" />\r\n        </FrameLayout>\r\n        <FrameLayout\r\n            android:id=\"@+id/profile_layout\"\r\n            android:layout_width=\"28dp\"\r\n            android:layout_height=\"42dp\"\r\n            android:layout_alignParentRight=\"true\"\r\n            android:layout_marginLeft=\"5dp\"\r\n            android:layout_marginRight=\"15dp\">\r\n            <ImageView\r\n                android:id=\"@+id/imageView4\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:scaleType=\"fitCenter\"\r\n                app:srcCompat=\"@drawable/profilebutton\" />\r\n            <Button\r\n                android:id=\"@+id/profile_button\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:background=\"@android:color/transparent\"\r\n                />\r\n        </FrameLayout>\r\n    </RelativeLayout>\r\n    <RelativeLayout\r\n        android:id=\"@+id/main_bottom_buttons\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        tools:ignore=\"MissingConstraints\">\r\n    </RelativeLayout>\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_options.xml b/app/src/main/res/layout/activity_options.xml
--- a/app/src/main/res/layout/activity_options.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/layout/activity_options.xml	(date 1691621288914)
@@ -97,7 +97,7 @@
             android:layout_marginLeft="15dp"
             android:layout_marginRight="15dp"
             android:background="@drawable/buttonwitharrow"
-            android:text="Change bio"
+            android:text="@string/change_bio_button_text"
             android:textColor="@color/white"
             android:gravity="center_vertical"
             android:textAllCaps="false"
Index: app/src/main/res/layout/chat_layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:elevation=\"15dp\">\r\n    <com.google.android.material.imageview.ShapeableImageView\r\n        android:id=\"@+id/profile_photo\"\r\n        android:layout_width=\"30dp\"\r\n        android:layout_height=\"30dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        android:layout_marginBottom=\"10dp\"\r\n        app:shapeAppearanceOverlay=\"@style/circular\"\r\n        android:src=\"@drawable/photo_1\"\r\n        android:scaleType=\"centerCrop\"/>\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_centerVertical=\"true\"\r\n        android:layout_marginLeft=\"5dp\"\r\n        android:layout_toRightOf=\"@+id/profile_photo\"\r\n        android:orientation=\"vertical\">\r\n        <TextView\r\n            android:id=\"@+id/name_text_view\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:textSize=\"10sp\"\r\n            android:textColor=\"@color/black\"\r\n            android:text=\"Nick_Name\"\r\n            android:textStyle=\"normal\"\r\n            android:maxLines=\"1\"/>\r\n        <TextView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:textSize=\"10sp\"\r\n            android:textColor=\"@color/neutral_dark_gray\"\r\n            android:text=\"Hello there!\"\r\n            android:textStyle=\"normal\"\r\n            android:maxLines=\"1\"/>\r\n\r\n    </LinearLayout>\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/chat_layout.xml b/app/src/main/res/layout/chat_layout.xml
--- a/app/src/main/res/layout/chat_layout.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/layout/chat_layout.xml	(date 1691668053089)
@@ -31,6 +31,7 @@
             android:textStyle="normal"
             android:maxLines="1"/>
         <TextView
+            android:id="@+id/message_text_view"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:textSize="10sp"
Index: app/src/main/res/layout/activity_chat.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Messager.ChatActivity\">\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/messages_list\"\r\n        android:layout_below=\"@+id/main_header\"\r\n        android:layout_above=\"@+id/message_layout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:divider=\"@android:color/transparent\"\r\n        android:dividerHeight=\"5dp\"\r\n        android:transcriptMode=\"alwaysScroll\"\r\n        android:orientation=\"vertical\"\r\n        >\r\n    </androidx.recyclerview.widget.RecyclerView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/message_layout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"40dp\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:background=\"@color/white\"\r\n        android:elevation=\"15dp\">\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/send_message_button\"\r\n            android:layout_width=\"30dp\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_centerVertical=\"true\"\r\n            android:layout_alignParentRight=\"true\"\r\n            android:background=\"@drawable/btn_bg_gray\"\r\n            android:layout_marginRight=\"10dp\"\r\n            android:elevation=\"0dp\"\r\n            android:shadowColor=\"@android:color/transparent\"/>\r\n\r\n        <EditText\r\n            android:id=\"@+id/message_text\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_centerInParent=\"true\"\r\n            android:layout_marginHorizontal=\"45dp\"\r\n            android:layout_marginVertical=\"5dp\"\r\n            android:background=\"@drawable/button_background_gray\"\r\n            android:gravity=\"center_vertical\"\r\n            android:hint=\"Enter message...\"\r\n            android:paddingLeft=\"10dp\"\r\n            android:textColor=\"@color/black\"\r\n            android:textColorHint=\"@color/neutral_dark_gray\"\r\n            android:textSize=\"10dp\"\r\n            />\r\n\r\n    </RelativeLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/main_header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"35dp\"\r\n        android:orientation=\"horizontal\"\r\n        android:elevation=\"15dp\"\r\n        android:background=\"@android:color/white\">\r\n        <FrameLayout\r\n            android:id=\"@+id/go_back_layout\"\r\n            android:layout_width=\"28dp\"\r\n            android:layout_height=\"42dp\"\r\n            android:layout_alignParentLeft=\"true\"\r\n            android:layout_marginLeft=\"5dp\">\r\n            <ImageView\r\n                android:id=\"@+id/go_back_image\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"8dp\"\r\n                android:scaleType=\"fitCenter\"\r\n                android:scaleX=\"-0.8\"\r\n                android:scaleY=\"0.65\"\r\n                app:srcCompat=\"@drawable/arrow\"\r\n                app:tint=\"@color/neutral_dark_gray\" />\r\n            <Button\r\n                android:id=\"@+id/go_back_button\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:background=\"@android:color/transparent\" />\r\n        </FrameLayout>\r\n\r\n        <TextView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_centerInParent=\"true\"\r\n            android:gravity=\"center\"\r\n            android:text=\"Nick_Name\"\r\n            android:textColor=\"@color/black\"\r\n            android:textSize=\"14sp\"\r\n            android:textStyle=\"normal\" />\r\n\r\n        <com.google.android.material.imageview.ShapeableImageView\r\n            android:layout_width=\"30dp\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_alignParentRight=\"true\"\r\n            android:layout_marginRight=\"15dp\"\r\n            android:layout_centerVertical=\"true\"\r\n            app:shapeAppearanceOverlay=\"@style/circular\"\r\n            android:src=\"@drawable/photo_1\"\r\n            android:scaleType=\"centerCrop\"/>\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_chat.xml b/app/src/main/res/layout/activity_chat.xml
--- a/app/src/main/res/layout/activity_chat.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/layout/activity_chat.xml	(date 1691621288887)
@@ -4,7 +4,8 @@
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
-    tools:context=".Messager.ChatActivity">
+    tools:context=".Messager.ChatActivity"
+    android:background="@color/white">
 
     <androidx.recyclerview.widget.RecyclerView
         android:id="@+id/messages_list"
Index: app/src/main/java/com/example/meetyou/Messager/ChatItem.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/Messager/ChatItem.java b/app/src/main/java/com/example/meetyou/Messager/ChatItem.java
new file mode 100644
--- /dev/null	(date 1691747717982)
+++ b/app/src/main/java/com/example/meetyou/Messager/ChatItem.java	(date 1691747717982)
@@ -0,0 +1,75 @@
+package com.example.meetyou.Messager;
+
+public class ChatItem {
+    private String profilePhoto1, profilePhoto2;
+    private String name1, name2;
+    private String message1, message2;
+
+    protected String chatUID;
+
+    public ChatItem(String chatUID, String profilePhoto1, String profilePhoto2, String name1, String name2, String message1, String message2) {
+        this.chatUID = chatUID;
+        this.profilePhoto1 = profilePhoto1;
+        this.profilePhoto2 = profilePhoto2;
+        this.name1 = name1;
+        this.name2 = name2;
+        this.message1 = message1;
+        this.message2 = message2;
+    }
+
+    public String getChatUID() {
+        return chatUID;
+    }
+
+    public void setChatUID(String chatUID) {
+        this.chatUID = chatUID;
+    }
+
+    public String getProfilePhoto1() {
+        return profilePhoto1;
+    }
+
+    public void setProfilePhoto1(String profilePhoto1) {
+        this.profilePhoto1 = profilePhoto1;
+    }
+
+    public String getProfilePhoto2() {
+        return profilePhoto2;
+    }
+
+    public void setProfilePhoto2(String profilePhoto2) {
+        this.profilePhoto2 = profilePhoto2;
+    }
+
+    public String getName1() {
+        return name1;
+    }
+
+    public void setName1(String name1) {
+        this.name1 = name1;
+    }
+
+    public String getName2() {
+        return name2;
+    }
+
+    public void setName2(String name2) {
+        this.name2 = name2;
+    }
+
+    public String getMessage1() {
+        return message1;
+    }
+
+    public void setMessage1(String message1) {
+        this.message1 = message1;
+    }
+
+    public String getMessage2() {
+        return message2;
+    }
+
+    public void setMessage2(String message2) {
+        this.message2 = message2;
+    }
+}
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">MeetYou</string>\r\n    <string name=\"cookie_and_private_police_accept\">By clicking the Sign In or Registration button, you agree to our <b>Terms and Conditions</b>. You can learn about how we process your data in our <b>Privacy Policy</b> and <b>Cookie Policy</b>.</string>\r\n    <string name=\"wrong_mail_format_message\">Incorrect email format</string>\r\n    <string name=\"zero_input_message\">Please fill in all fields</string>\r\n    <string name=\"success_sign_in_message\">You have successfully signed in!</string>\r\n    <string name=\"wrong_password_or_mail_message\">Incorrect email or password</string>\r\n    <string name=\"wrong_password_lenght_message\">Password is too short!</string>\r\n    <string name=\"wrong_password_chars_format_message\">Password must contain at least one uppercase letter</string>\r\n    <string name=\"password_has_spaces_message\">Password should not contain spaces</string>\r\n    <string name=\"wrong_confirm_password_message\">Passwords do not match!</string>\r\n    <string name=\"success_registration_message\">Successful registration!</string>\r\n    <string name=\"registration_error_message\">Registration error, please try again</string>\r\n    <string name=\"email_was_used_message\">A user with this email is already registered!</string>\r\n    <string name=\"registration_button\">Register</string>\r\n    <string name=\"back_button\">Back</string>\r\n    <string name=\"next_button\">Next</string>\r\n    <string name=\"mail_input_text\">E-mail</string>\r\n    <string name=\"password_input_text\">Password</string>\r\n    <string name=\"confirm_password_input_text\">Confirm password</string>\r\n    <string name=\"sign_in_button\">Sign In</string>\r\n    <string name=\"cant_sign_in_button\">Can\\'t sign in</string>\r\n    <string name=\"enter_birth_date_text\">Enter your birth date:</string>\r\n    <string name=\"enter_your_name_text\">Enter your name</string>\r\n    <string name=\"write_something_about_you\">Write something about you...</string>\r\n    <string name=\"who_are_you\">Who are you?</string>\r\n    <string name=\"confirm\">Confirm</string>\r\n    <string name=\"woman_button\">Woman</string>\r\n    <string name=\"man_button\">Man</string>\r\n    <string name=\"upload_all_photos_message\">Please upload all 5 photos</string>\r\n    <string name=\"wrong_date_message\">Wrong date</string>\r\n    <string name=\"data_saved_successfully_message\">Data saved successfully</string>\r\n    <string name=\"error_data_saving_message\">Error during data saving</string>\r\n    <string name=\"enter_date_in_full_message\">Please enter date of birth in full</string>\r\n    <string name=\"eighteen_years_message\">Registration for persons under 18 years of age is prohibited</string>\r\n    <string name=\"old_ages_message\">Age must not exceed 72 years</string>\r\n    <string name=\"bio_chars_message\">The bio should be no more than 150 characters</string>\r\n    <string name=\"name_chars_message\">The name must not contain numbers or symbols</string>\r\n    <string name=\"name_chars_count_message\">The name must be no more than 30 characters</string>\r\n    <string name=\"choose_your_gender\">Choose your gender</string>\r\n    <string name=\"close\">Close</string>\r\n    <string name=\"choose_a_few_interests_message\">Choose a few interests</string>\r\n    <string name=\"okay\">Okay</string>\r\n    <string name=\"welcome\">Welcome!</string>\r\n    <string name=\"you_ve_been_successfully_registered_please_sign_in\"><![CDATA[You\\'ve been successfully registered! <\\n>Please Sign In!.]]></string>\r\n    <string name=\"pick_a_few_targets_message\">Pick a few targets</string>\r\n    <string name=\"select_nm_5_interests_message\">Select no more than 5 interests!</string>\r\n    <string name=\"data_not_available_message\">Data is not available!</string>\r\n    <string name=\"faq_support\">FAQ/Support</string>\r\n    <string name=\"avoid_list\">Avoid list</string>\r\n    <string name=\"profile_color\">Profile color</string>\r\n    <string name=\"global_search\">Global search</string>\r\n    <string name=\"vip_functions\">Vip functions</string>\r\n    <string name=\"premium_functions\">Premium functions</string>\r\n    <string name=\"luxe_functions\">Luxe functions</string>\r\n    <string name=\"other\">Other</string>\r\n    <string name=\"change_interests\">Change interests</string>\r\n    <string name=\"change_name\">Change Name</string>\r\n    <string name=\"update_photos\">Update photos</string>\r\n    <string name=\"change_e_mail\">Change E-mail</string>\r\n    <string name=\"choose_a_gender_message\">Choose a gender!</string>\r\n    <string name=\"remember_me\">Remember me</string>\r\n    <string name=\"choose_your_parameters\">Choose your parameters</string>\r\n    <string name=\"choose_your_preferred_partner_parameters\">Choose your preferred partner parameters</string>\r\n    <string name=\"height\">Height:</string>\r\n    <string name=\"weight\">Weight:</string>\r\n    <string name=\"attitude_to_smoking\">Attitude to Smoking:</string>\r\n    <string name=\"attitude_to_alcohol\">Attitude to Alcohol:</string>\r\n    <string name=\"confirm_password\">Confirm Password</string>\r\n    <string name=\"enter_password\">Enter password</string>\r\n    <string name=\"new_password\">New Password</string>\r\n    <string name=\"current_password\">Current Password</string>\r\n    <string name=\"change_password\">Change Password</string>\r\n    <string name=\"current_e_mail\">Current E-mail</string>\r\n    <string name=\"enter_e_mail\">Enter e-mail</string>\r\n    <string name=\"new_e_mail\">New E-mail</string>\r\n    <string name=\"confirm_e_mail\">Confirm E-mail</string>\r\n    <string name=\"confirm_e_mail_edit_text\">Confirm e-mail</string>\r\n    <string name=\"change_your_color\">Change your color</string>\r\n    <string name=\"current_name\">Current Name</string>\r\n    <string name=\"new_name\">New Name</string>\r\n    <string name=\"enter_name\">Enter name</string>\r\n    <string name=\"change_your_interests\">Change your interests</string>\r\n    <string name=\"change_bio\">Change Bio</string>\r\n    <string name=\"delete_account\">Delete Account</string>\r\n    <string name=\"delete_account_warning\">Caution! Deleting your account is <b>permanent</b>. All data, messages, and connections will be lost forever. Please think carefully before clicking \"Confirm.\" Contact support for assistance if needed. Thank you for being part of <b>MeetYou</b>.</string>\r\n    <string name=\"you_are_not_signed_in_message\">You are not signed in!</string>\r\n    <string name=\"bio_was_copied_in_clipboard\">Bio was copied in clipboard</string>\r\n    <string name=\"name_was_copied_in_clipboard\">Name was copied in clipboard</string>\r\n    <string name=\"please_enter_new_name_message\">Please enter new Name</string>\r\n    <string name=\"vip_features\">- Unlimited return\\n\\n\\n- Global search\\n\\n\\n- No ads</string>\r\n    <string name=\"premium_features\">- All VIP Features\\n\\n\\n- Who liked you\\n\\n\\n- 10 mega-sympathies\\nper week\\n\\n\\n- 5 profile boosts\\nper month\\n\\n\\n- Change profile color</string>\r\n    <string name=\"luxe_features\">- All Premium Features\\n\\n\\n- Add comments to\\nmega-sympathies\\n\\n\\n- 30 mega-sympathies\\nper week\\n\\n\\n- 20 profile boosts\\nper month\\n\\n\\n- Avoid list</string>\r\n\r\n</resources>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/values/strings.xml	(date 1691705699916)
@@ -91,5 +91,8 @@
     <string name="vip_features">- Unlimited return\n\n\n- Global search\n\n\n- No ads</string>
     <string name="premium_features">- All VIP Features\n\n\n- Who liked you\n\n\n- 10 mega-sympathies\nper week\n\n\n- 5 profile boosts\nper month\n\n\n- Change profile color</string>
     <string name="luxe_features">- All Premium Features\n\n\n- Add comments to\nmega-sympathies\n\n\n- 30 mega-sympathies\nper week\n\n\n- 20 profile boosts\nper month\n\n\n- Avoid list</string>
+    <string name="empty_saved_password_email_message">Saved email or password is empty. Please log in again.</string>
+    <string name="change_bio_button_text">Change bio</string>
+    <string name="something_went_wrong_message">Something went wrong!</string>
 
 </resources>
Index: app/src/main/res/layout/two_buttons_custom_notification_layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!-- res/layout/custom_notification_layout.xml -->\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_height=\"match_parent\"\r\n    android:layout_width=\"match_parent\"\r\n    android:background=\"@android:color/transparent\">\r\n    <View\r\n        android:id=\"@+id/overlayView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"#80000000\" />\r\n        <RelativeLayout\r\n            android:id=\"@+id/matter_layout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_centerHorizontal=\"true\"\r\n            android:layout_centerVertical=\"true\"\r\n            android:layout_gravity=\"center\"\r\n            android:gravity=\"center\"\r\n            android:background=\"@android:color/transparent\"\r\n            android:backgroundTint=\"@android:color/transparent\">\r\n            <RelativeLayout\r\n                android:id=\"@+id/main_layout\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"170dp\"\r\n                android:layout_marginLeft=\"40dp\"\r\n                android:layout_marginRight=\"40dp\"\r\n                android:background=\"@drawable/button_background_blue\">\r\n                <RelativeLayout\r\n                    android:id=\"@+id/header_title\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"60dp\">\r\n                    <TextView\r\n                        android:id=\"@+id/titleTextView\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:gravity=\"center\"\r\n                        android:text=\"Oops!\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"24sp\"\r\n                        android:textStyle=\"bold\"\r\n                        android:layout_centerInParent=\"true\" />\r\n                </RelativeLayout>\r\n\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_marginLeft=\"10dp\"\r\n                    android:layout_marginRight=\"10dp\"\r\n                    android:layout_marginBottom=\"20dp\"\r\n                    android:layout_below=\"@id/header_title\">\r\n                <TextView\r\n                    android:id=\"@+id/messageTextView\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"NotifyMessage\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"16sp\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\" />\r\n                </RelativeLayout>\r\n            </RelativeLayout>\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"36dp\"\r\n                android:layout_below=\"@+id/main_layout\"\r\n                android:layout_centerHorizontal=\"true\"\r\n                android:layout_marginTop=\"-15dp\"\r\n                android:orientation=\"horizontal\">\r\n                <androidx.appcompat.widget.AppCompatButton\r\n                    android:id=\"@+id/waitButton\"\r\n                    android:layout_width=\"154dp\"\r\n                    android:layout_height=\"36dp\"\r\n                    android:background=\"@drawable/button_background\"\r\n                    android:text=\"wait\"\r\n                    android:textColor=\"#2c59cc\"\r\n                    android:textSize=\"14sp\" />\r\n                <Space\r\n                    android:layout_width=\"15dp\"\r\n                    android:layout_height=\"match_parent\"/>\r\n                <androidx.appcompat.widget.AppCompatButton\r\n                    android:id=\"@+id/okay_Button\"\r\n                    android:layout_width=\"154dp\"\r\n                    android:layout_height=\"36dp\"\r\n                    android:background=\"@drawable/button_background\"\r\n                    android:text=\"@string/okay\"\r\n                    android:textColor=\"#2c59cc\"\r\n                    android:textSize=\"14sp\" />\r\n            </LinearLayout>\r\n    </RelativeLayout>\r\n</RelativeLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/two_buttons_custom_notification_layout.xml b/app/src/main/res/layout/two_buttons_custom_notification_layout.xml
--- a/app/src/main/res/layout/two_buttons_custom_notification_layout.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/layout/two_buttons_custom_notification_layout.xml	(date 1691695561275)
@@ -66,23 +66,25 @@
                 android:layout_below="@+id/main_layout"
                 android:layout_centerHorizontal="true"
                 android:layout_marginTop="-15dp"
-                android:orientation="horizontal">
-                <androidx.appcompat.widget.AppCompatButton
+                android:orientation="horizontal"
+                android:background="@drawable/button_background">
+                <Button
                     android:id="@+id/waitButton"
-                    android:layout_width="154dp"
+                    android:layout_width="wrap_content"
                     android:layout_height="36dp"
-                    android:background="@drawable/button_background"
+                    android:background="#00000000"
                     android:text="wait"
                     android:textColor="#2c59cc"
                     android:textSize="14sp" />
-                <Space
-                    android:layout_width="15dp"
-                    android:layout_height="match_parent"/>
-                <androidx.appcompat.widget.AppCompatButton
+                <View
+                    android:layout_width="1dp"
+                    android:layout_height="match_parent"
+                    android:background="@color/main"/>
+                <Button
                     android:id="@+id/okay_Button"
-                    android:layout_width="154dp"
+                    android:layout_width="wrap_content"
                     android:layout_height="36dp"
-                    android:background="@drawable/button_background"
+                    android:background="#00000000"
                     android:text="@string/okay"
                     android:textColor="#2c59cc"
                     android:textSize="14sp" />
Index: app/src/main/java/com/example/meetyou/SignInActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou;\r\n\r\nimport static com.example.meetyou.MYFiles.Users.saveUserDataToSharedPreferences;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.widget.CheckBox;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.meetyou.Database.DatabaseHelper;\r\nimport com.example.meetyou.MYFiles.NotificationHelper;\r\nimport com.example.meetyou.MYFiles.Users;\r\nimport com.example.meetyou.databinding.ActivitySignInBinding;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\npublic class SignInActivity extends AppCompatActivity {\r\n\r\n    // Подключение привязки к макету активности\r\n    ActivitySignInBinding binding;\r\n\r\n    // Переменная для работы с базой данных\r\n    DatabaseHelper databaseHelper;\r\n\r\n    // Флаг для запоминания пользователя (опциональный выбор)\r\n    private CheckBox rememberMeCheckbox;\r\n\r\n    // Флаг, отмечающий состояние \"Запомнить меня\"\r\n    boolean isRememberMeChecked = false;\r\n\r\n    // Объект для аутентификации через Firebase\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivitySignInBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n        // Изменение цвета статус-бара\r\n        getWindow().setStatusBarColor(ContextCompat.getColor(SignInActivity.this, R.color.main));\r\n\r\n\r\n        // Получение экземпляра Firebase для аутентификации\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        // Получение состояния флага \"Запомнить меня\" из SharedPreferences\r\n        rememberMeCheckbox = findViewById(R.id.remember_me_checkbox);\r\n        isRememberMeChecked = isRememberMeChecked(); // Получаем значение из SharedPreferences\r\n        rememberMeCheckbox.setChecked(isRememberMeChecked); // Устанавливаем состояние RememberMeCheckbox\r\n        if (isRememberMeChecked) {\r\n            String savedEmail = getSavedEmail();\r\n            String savedPassword = getSavedPassword();\r\n            if (!savedEmail.isEmpty() && !savedPassword.isEmpty()) {\r\n                loginUser(savedEmail, savedPassword);\r\n            } else {\r\n                clearUserCredentials();\r\n                Toast.makeText(this, \"Saved email or password is empty. Please log in again.\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        // Инициализация помощника для работы с базой данных\r\n        databaseHelper = new DatabaseHelper(this);\r\n\r\n        // Обработчик кнопки \"Назад\" - закрывает активность\r\n        AppCompatButton backButton = findViewById(R.id.go_back_button);\r\n        backButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        // Обработчик кнопки \"Войти\" - выполняет попытку входа\r\n        binding.signInButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String email = binding.mailText.getText().toString().trim();\r\n                String password = binding.password.getText().toString().trim();\r\n\r\n                // Сохранение состояния флага \"Запомнить меня\" в SharedPreferences\r\n                saveRememberMeState(binding.rememberMeCheckbox.isChecked());\r\n\r\n                // Проверка корректности формата электронной почты\r\n                if (!isValidEmail(email)) {\r\n                    // Вывод уведомления об ошибке в формате почты\r\n                    NotificationHelper.showCustomNotification(SignInActivity.this, null, getString(R.string.wrong_mail_format_message), getString(R.string.close), 0, 0, 0, 0);\r\n                } else if (email.isEmpty() || password.isEmpty()) {\r\n                    // Вывод уведомления об ошибке ввода данных (пустые поля)\r\n                    NotificationHelper.showCustomNotification(SignInActivity.this, null, getString(R.string.zero_input_message), getString(R.string.close), 0, 0, 0, 0);\r\n                } else {\r\n                    // Вызов метода для попытки входа пользователя\r\n                    loginUser(binding.mailText.getText().toString(), binding.password.getText().toString().trim());\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Проверка корректности формата электронной почты\r\n    private boolean isValidEmail(String email) {\r\n        return Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n    }\r\n\r\n    // Метод для входа пользователя\r\n    private void loginUser(String email, String password) {\r\n        // Вызов метода Firebase для входа с указанными данными\r\n        mAuth.signInWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if (task.isSuccessful()) {\r\n                            if (binding.rememberMeCheckbox.isChecked()) {\r\n                                saveUserCredentials(email, password);\r\n                            } else {\r\n                                clearUserCredentials();\r\n                            }\r\n\r\n                            startMainActivity();\r\n                            // Если вход успешен, получаем уникальный идентификатор пользователя (UID) и загружаем его данные\r\n                            String userUID = sanitizeEmail(email);\r\n                            saveUID(userUID);\r\n                            saveUserDataToSharedPreferences(SignInActivity.this, userUID);\r\n\r\n                            // Вызов метода для загрузки данных пользователя\r\n                            Users.getUserDataFromFirebase(userUID, new Users.OnUserDataListener() {\r\n                                @Override\r\n                                public void onDataLoaded(String color, String userName, String bio,String photo1, String photo2, String photo3, String photo4,String photo5, String UID) {\r\n                                    // Здесь вы можете обработать полученные данные, если это необходимо.\r\n                                    // Например, отобразить их на экране или выполнить другие действия с этими данными.\r\n                                }\r\n\r\n                                @Override\r\n                                public void onDataLoaded(Users user) {\r\n                                    // Сохранение данных пользователя в SharedPreferences и запуск основной активности\r\n                                    saveUserCredentials(user);\r\n                                    startMainActivity();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onDataNotAvailable() {\r\n                                    // Вывод уведомления об ошибке загрузки данных пользователя\r\n                                    Toast.makeText(SignInActivity.this, R.string.data_not_available_message, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        } else {\r\n                            // Вывод уведомления об ошибке - неправильный пароль или почта\r\n                            NotificationHelper.showCustomNotification(SignInActivity.this, null, getString(R.string.wrong_password_or_mail_message), getString(R.string.close), 0, 0, 0, 0);\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    // Метод для очистки учетных данных пользователя\r\n    private void clearUserCredentials() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.remove(\"email\");\r\n        editor.remove(\"password\");\r\n        editor.apply();\r\n    }\r\n\r\n    // Метод для сохранения учетных данных пользователя в SharedPreferences\r\n    private void saveUserCredentials(String email, String password) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"email\", email);\r\n        editor.putString(\"password\", password);\r\n        editor.apply();\r\n    }\r\n\r\n    // Метод для сохранения данных пользователя в SharedPreferences\r\n    private void saveUserCredentials(Users user) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"email\", user.getEmail());\r\n        editor.putString(\"name\", user.getName());\r\n        editor.putString(\"bio\", user.getBio());\r\n        editor.putString(\"height\", user.getHeight());\r\n        editor.putString(\"width\", user.getWeight());\r\n        editor.putString(\"gender\", user.getGender());\r\n        editor.putString(\"findGender\", user.getFindGender());\r\n        editor.putString(\"hobbies\", user.getHobbies());\r\n        editor.putString(\"target\", user.getTarget());\r\n        editor.putInt(\"age\", user.getAge());\r\n        editor.apply();\r\n    }\r\n\r\n    // Запуск основной активности приложения\r\n    private void startMainActivity() {\r\n        Intent intent = new Intent(SignInActivity.this, OwnProfileActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    // Сохранение состояния флага \"Запомнить меня\" в SharedPreferences\r\n    private void saveRememberMeState(boolean isChecked) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"remember_me\", isChecked);\r\n        editor.apply();\r\n    }\r\n\r\n    // Получение состояния флага \"Запомнить меня\" из SharedPreferences\r\n    private boolean isRememberMeChecked() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getBoolean(\"remember_me\", false);\r\n    }\r\n\r\n    // Получение сохраненного email из SharedPreferences\r\n    private String getSavedEmail() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"email\", \"\");\r\n    }\r\n\r\n    // Получение сохраненного password из SharedPreferences\r\n    private String getSavedPassword() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        return sharedPreferences.getString(\"password\", \"\");\r\n    }\r\n\r\n    // Метод для \"санитарной\" обработки email (удаление символов [@, .])\r\n    public String sanitizeEmail(String email) {\r\n        String sanitizedEmail = email.replaceAll(\"[.@#$\\\\[\\\\]]\", \"\");\r\n        return sanitizedEmail;\r\n    }\r\n\r\n    // Метод для сохранения UID пользователя в SharedPreferences\r\n    private void saveUID(String UID) {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(\"UserPrefs\", MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"UID\", UID);\r\n        editor.apply();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/SignInActivity.java b/app/src/main/java/com/example/meetyou/SignInActivity.java
--- a/app/src/main/java/com/example/meetyou/SignInActivity.java	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/java/com/example/meetyou/SignInActivity.java	(date 1691674876228)
@@ -67,7 +67,9 @@
                 loginUser(savedEmail, savedPassword);
             } else {
                 clearUserCredentials();
-                Toast.makeText(this, "Saved email or password is empty. Please log in again.", Toast.LENGTH_SHORT).show();
+                binding.rememberMeCheckbox.setChecked(false);
+                saveRememberMeState(false);
+                Toast.makeText(this, R.string.empty_saved_password_email_message, Toast.LENGTH_SHORT).show();
             }
         }
 
@@ -90,8 +92,12 @@
                 String email = binding.mailText.getText().toString().trim();
                 String password = binding.password.getText().toString().trim();
 
-                // Сохранение состояния флага "Запомнить меня" в SharedPreferences
-                saveRememberMeState(binding.rememberMeCheckbox.isChecked());
+                if(binding.rememberMeCheckbox.isChecked()){
+                    saveUserCredentials(email, password);
+
+                    // Сохранение состояния флага "Запомнить меня" в SharedPreferences
+                    saveRememberMeState(binding.rememberMeCheckbox.isChecked());
+                }
 
                 // Проверка корректности формата электронной почты
                 if (!isValidEmail(email)) {
Index: app/src/main/res/values-ru/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <string name=\"app_name\">MeetYou</string>\r\n    <string name=\"cookie_and_private_police_accept\">Нажимая кнопку \"Войти\" или \"Зарегистрироваться\", вы соглашаетесь с нашими <b>Условиями использования</b>. Вы можете узнать о том, как мы обрабатываем ваши данные в нашей <b>Политике конфиденциальности</b> и <b>Политике использования файлов cookie</b>.</string>\r\n    <string name=\"wrong_mail_format_message\">Неверный формат электронной почты</string>\r\n    <string name=\"zero_input_message\">Пожалуйста, заполните все поля</string>\r\n    <string name=\"success_sign_in_message\">Вы успешно вошли в систему!</string>\r\n    <string name=\"wrong_password_or_mail_message\">Неверный адрес электронной почты или пароль</string>\r\n    <string name=\"wrong_password_lenght_message\">Пароль слишком короткий!</string>\r\n    <string name=\"wrong_password_chars_format_message\">Пароль должен содержать хотя бы одну заглавную букву</string>\r\n    <string name=\"password_has_spaces_message\">Пароль не должен содержать пробелы</string>\r\n    <string name=\"wrong_confirm_password_message\">Пароли не совпадают!</string>\r\n    <string name=\"success_registration_message\">Успешная регистрация!</string>\r\n    <string name=\"registration_error_message\">Ошибка регистрации, пожалуйста, повторите попытку</string>\r\n    <string name=\"email_was_used_message\">Пользователь с таким адресом электронной почты уже зарегистрирован!</string>\r\n    <string name=\"registration_button\">Зарегистрироваться</string>\r\n    <string name=\"back_button\">Назад</string>\r\n    <string name=\"next_button\">Далее</string>\r\n    <string name=\"mail_input_text\">Электронная почта</string>\r\n    <string name=\"password_input_text\">Пароль</string>\r\n    <string name=\"confirm_password_input_text\">Подтвердите пароль</string>\r\n    <string name=\"sign_in_button\">Войти</string>\r\n    <string name=\"cant_sign_in_button\">Не удается войти</string>\r\n    <string name=\"enter_birth_date_text\">Введите дату рождения:</string>\r\n    <string name=\"enter_your_name_text\">Введите ваше имя</string>\r\n    <string name=\"write_something_about_you\">Напишите немного о себе...</string>\r\n    <string name=\"who_are_you\">Кто вы?</string>\r\n    <string name=\"confirm\">Подтвердить</string>\r\n    <string name=\"woman_button\">Женщина</string>\r\n    <string name=\"man_button\">Мужчина</string>\r\n    <string name=\"upload_all_photos_message\">Пожалуйста, загрузите все 5 фотографий</string>\r\n    <string name=\"wrong_date_message\">Неправильная дата</string>\r\n    <string name=\"data_saved_successfully_message\">Данные успешно сохранены</string>\r\n    <string name=\"error_data_saving_message\">Ошибка при сохранении данных</string>\r\n    <string name=\"enter_date_in_full_message\">Пожалуйста, введите полную дату рождения</string>\r\n    <string name=\"eighteen_years_message\">Регистрация для лиц младше 18 лет запрещена</string>\r\n    <string name=\"old_ages_message\">Возраст не должен превышать 72 года</string>\r\n    <string name=\"bio_chars_message\">Описание должно содержать не более 150 символов</string>\r\n    <string name=\"name_chars_message\">Имя не должно содержать цифры или символы</string>\r\n    <string name=\"name_chars_count_message\">Имя не должно превышать 30 символов</string>\r\n    <string name=\"choose_your_gender\">Выберите ваш пол</string>\r\n    <string name=\"close\">Закрыть</string>\r\n    <string name=\"choose_a_few_interests_message\">Выберите несколько интересов</string>\r\n    <string name=\"okay\">Хорошо</string>\r\n    <string name=\"welcome\">Добро пожаловать!</string>\r\n    <string name=\"you_ve_been_successfully_registered_please_sign_in\"><![CDATA[Вы успешно зарегистрированы! <\\n>Пожалуйста, войдите в систему!.]]></string>\r\n    <string name=\"pick_a_few_targets_message\">Выберите несколько целей</string>\r\n    <string name=\"select_nm_5_interests_message\">Выберите не более 5 интересов!</string>\r\n    <string name=\"data_not_available_message\">Данные недоступны!</string>\r\n    <string name=\"faq_support\">FAQ/Поддержка</string>\r\n    <string name=\"avoid_list\">Список исключений</string>\r\n    <string name=\"profile_color\">Цвет профиля</string>\r\n    <string name=\"global_search\">Глобальный поиск</string>\r\n    <string name=\"vip_functions\">VIP-функции</string>\r\n    <string name=\"premium_functions\">Премиум-функции</string>\r\n    <string name=\"luxe_functions\">Люкс-функции</string>\r\n    <string name=\"other\">Другое</string>\r\n    <string name=\"change_interests\">Изменить интересы</string>\r\n    <string name=\"change_name\">Изменить имя</string>\r\n    <string name=\"update_photos\">Обновить фотографии</string>\r\n    <string name=\"change_e_mail\">Изменить электронную почту</string>\r\n    <string name=\"choose_a_gender_message\">Выберите пол!</string>\r\n    <string name=\"remember_me\">Запомнить меня</string>\r\n    <string name=\"choose_your_parameters\">Выберите ваши параметры</string>\r\n    <string name=\"choose_your_preferred_partner_parameters\">Выберите параметры вашего партнера</string>\r\n    <string name=\"height\">Рост:</string>\r\n    <string name=\"weight\">Вес:</string>\r\n    <string name=\"attitude_to_smoking\">Отношение к курению:</string>\r\n    <string name=\"attitude_to_alcohol\">Отношение к алкоголю:</string>\r\n    <string name=\"confirm_password\">Подтвердите пароль</string>\r\n    <string name=\"enter_password\">Введите пароль</string>\r\n    <string name=\"new_password\">Новый пароль</string>\r\n    <string name=\"current_password\">Текущий пароль</string>\r\n    <string name=\"change_password\">Изменить пароль</string>\r\n    <string name=\"current_e_mail\">Текущий адрес электронной почты</string>\r\n    <string name=\"enter_e_mail\">Введите адрес электронной почты</string>\r\n    <string name=\"new_e_mail\">Новый адрес электронной почты</string>\r\n    <string name=\"confirm_e_mail\">Подтвердите адрес электронной почты</string>\r\n    <string name=\"confirm_e_mail_edit_text\">Подтвердите адрес электронной почты</string>\r\n    <string name=\"change_your_color\">Изменить ваш цвет</string>\r\n    <string name=\"current_name\">Текущее имя</string>\r\n    <string name=\"new_name\">Новое имя</string>\r\n    <string name=\"enter_name\">Введите имя</string>\r\n    <string name=\"change_your_interests\">Изменить ваши интересы</string>\r\n    <string name=\"change_bio\">Изменить биографию</string>\r\n    <string name=\"delete_account\">Удалить аккаунт</string>\r\n    <string name=\"delete_account_warning\">Внимание! Удаление вашей учетной записи — это <b>навсегда</b>. Все данные, сообщения и связи будут утеряны навсегда. Пожалуйста, обдумайте свое решение перед нажатием кнопки \\\"Подтвердить\\\". В случае необходимости обращайтесь в службу поддержки. Спасибо, что были частью <b>MeetYou</b>.</string>\r\n    <string name=\"you_are_not_signed_in_message\">Вы не вошли в систему!</string>\r\n    <string name=\"bio_was_copied_in_clipboard\">Биография была скопирована в буфер обмена</string>\r\n    <string name=\"name_was_copied_in_clipboard\">Имя было скопировано в буфер обмена</string>\r\n    <string name=\"please_enter_new_name_message\">Пожалуйста, введите новое имя</string>\r\n    <string name=\"vip_features\">- Безлимитный возврат\\n\\n\\n- Глобальный поиск\\n\\n\\n- Без рекламы</string>\r\n    <string name=\"premium_features\">- Все VIP-функции\\n\\n\\n- Кто вам понравился\\n\\n\\n- 10 мега-симпатий в неделю\\n\\n\\n- 5 повышений профиля в месяц\\n\\n\\n- Изменение цвета профиля</string>\r\n    <string name=\"luxe_features\">- Все премиум-функции\\n\\n\\n- Добавление комментариев к мега-симпатиям\\n\\n\\n- 30 мега-симпатий в неделю\\n\\n\\n- 20 повышений профиля в месяц\\n\\n\\n- Список избежания</string>\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-ru/strings.xml b/app/src/main/res/values-ru/strings.xml
--- a/app/src/main/res/values-ru/strings.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/values-ru/strings.xml	(date 1691711351857)
@@ -89,8 +89,8 @@
     <string name="bio_was_copied_in_clipboard">Биография была скопирована в буфер обмена</string>
     <string name="name_was_copied_in_clipboard">Имя было скопировано в буфер обмена</string>
     <string name="please_enter_new_name_message">Пожалуйста, введите новое имя</string>
-    <string name="vip_features">- Безлимитный возврат\n\n\n- Глобальный поиск\n\n\n- Без рекламы</string>
-    <string name="premium_features">- Все VIP-функции\n\n\n- Кто вам понравился\n\n\n- 10 мега-симпатий в неделю\n\n\n- 5 повышений профиля в месяц\n\n\n- Изменение цвета профиля</string>
-    <string name="luxe_features">- Все премиум-функции\n\n\n- Добавление комментариев к мега-симпатиям\n\n\n- 30 мега-симпатий в неделю\n\n\n- 20 повышений профиля в месяц\n\n\n- Список избежания</string>
+    <string name="vip_features">- Безлимитный\nвозврат\n\n\n- Глобальный\nпоиск\n\n\n- Без рекламы</string>
+    <string name="premium_features">- Все VIP-функции\n\n\n- Кому вы нравитесь\n\n\n- 10 мега-симпатий\nв неделю\n\n\n- 5 повышений профиля\nв месяц\n\n\n- Изменение цвета\nпрофиля</string>
+    <string name="luxe_features">- Все премиум-функции\n\n\n- Добавление комментов\n к мега-симпатиям\n\n\n- 30 мега-симпатий\nв неделю\n\n\n- 20 повышений\nпрофиля в месяц\n\n\n- Список избежания</string>
 
 </resources>
\ No newline at end of file
Index: app/src/main/res/layout/activity_shop.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ShopActivity\"\r\n    android:background=\"@color/white\">\r\n    <TextView\r\n        android:id=\"@+id/shoptext\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Shop\"\r\n        android:textSize=\"30sp\"\r\n        android:gravity=\"center\"\r\n        android:textColor=\"@color/main\"\r\n        android:elevation=\"15dp\"/>\r\n    <androidx.appcompat.widget.AppCompatButton\r\n        android:id=\"@+id/go_back_button\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"40dp\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_marginBottom=\"25dp\"\r\n        android:layout_marginTop=\"5dp\"\r\n        android:layout_marginHorizontal=\"30dp\"\r\n        android:background=\"@drawable/button_background_dark_gray\"\r\n        android:text=\"@string/back_button\"\r\n        android:textColor=\"@color/white\" />\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/shoptext\"\r\n        android:layout_above=\"@id/go_back_button\"\r\n        >\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginBottom=\"70dp\"\r\n        android:orientation=\"vertical\"\r\n\r\n\r\n\r\n\r\n        >\r\n\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/buyvip\"\r\n            android:layout_width=\"200dp\"\r\n            android:layout_height=\"300dp\"\r\n            android:layout_marginLeft=\"40dp\"\r\n            android:background=\"@drawable/statusbannervip\"\r\n            android:text=\"@string/vip_features\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"left\"\r\n            android:paddingTop=\"75dp\"\r\n            android:textAllCaps=\"false\"\r\n            android:textStyle=\"bold\"\r\n            android:textSize=\"12sp\"\r\n            android:paddingLeft=\"15dp\"\r\n            />\r\n        <Space\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"27dp\"/>\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/buyprem\"\r\n            android:layout_width=\"200dp\"\r\n            android:textAllCaps=\"false\"\r\n            android:textStyle=\"bold\"\r\n            android:layout_height=\"300dp\"\r\n            android:layout_marginLeft=\"160dp\"\r\n            android:background=\"@drawable/statusbannerprem\"\r\n            android:text=\"@string/premium_features\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"right\"\r\n            android:paddingTop=\"59dp\"\r\n            android:textSize=\"11sp\"\r\n            android:paddingRight= \"15dp\"\r\n            />\r\n        <Space\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"27dp\"/>\r\n        <androidx.appcompat.widget.AppCompatButton\r\n            android:id=\"@+id/buylux\"\r\n            android:layout_width=\"200dp\"\r\n            android:layout_height=\"300dp\"\r\n            android:layout_marginLeft=\"40dp\"\r\n            android:background=\"@drawable/statusbannerluxe\"\r\n            android:text=\"@string/luxe_features\"\r\n            android:textColor=\"@color/white\"\r\n            android:gravity=\"left\"\r\n            android:paddingTop=\"50dp\"\r\n            android:textAllCaps=\"false\"\r\n            android:textStyle=\"bold\"\r\n            android:textSize=\"11sp\"\r\n            android:paddingLeft=\"15dp\"\r\n            />\r\n        <Space\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"/>\r\n\r\n    </LinearLayout>\r\n    </ScrollView>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_shop.xml b/app/src/main/res/layout/activity_shop.xml
--- a/app/src/main/res/layout/activity_shop.xml	(revision f199c2133f7e41150838d3f6a93323825dde9b77)
+++ b/app/src/main/res/layout/activity_shop.xml	(date 1691628670881)
@@ -38,12 +38,10 @@
         android:layout_height="match_parent"
         android:layout_marginTop="10dp"
         android:layout_marginBottom="70dp"
-        android:orientation="vertical"
-
-
-
-
-        >
+        android:orientation="vertical">
+        <Space
+            android:layout_width="match_parent"
+            android:layout_height="15dp"/>
 
         <androidx.appcompat.widget.AppCompatButton
             android:id="@+id/buyvip"
