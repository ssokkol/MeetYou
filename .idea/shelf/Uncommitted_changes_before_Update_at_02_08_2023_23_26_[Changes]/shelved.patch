Index: app/src/main/java/com/example/meetyou/MYFiles/Users.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.meetyou.MYFiles;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Users {\r\n    String UID, email, name, bio, height, weight, gender, findGender, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5;\r\n    int age, boosts, likes, megasymps;\r\n\r\n    boolean verified;\r\n\r\n    public Users() {\r\n    }\r\n\r\n    public Users(String UID, String email, String name, String bio, String height, String weight, String gender, String findGender, String hobbies, String target,\r\n                 String color, String status,\r\n                 String photo1, String photo2, String photo3, String photo4, int age, int boosts, int likes, int megasymps, boolean verified)\r\n    {\r\n        this.UID = UID;\r\n        this.email = email;\r\n        this.name = name;\r\n        this.bio = bio;\r\n        this.height = height;\r\n        this.weight = weight;\r\n        this.gender = gender;\r\n        this.findGender = findGender;\r\n        this.hobbies = hobbies;\r\n        this.target = target;\r\n        this.color = color;\r\n        this.status = status;\r\n        this.photo1 = photo1;\r\n        this.photo2 = photo2;\r\n        this.photo3 = photo3;\r\n        this.photo4 = photo4;\r\n        this.photo5 = photo5;\r\n        this.age = age;\r\n        this.boosts = boosts;\r\n        this.likes = likes;\r\n        this.megasymps = megasymps;\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getPhoto1() {\r\n        return photo1;\r\n    }\r\n\r\n    public void setPhoto1(String photo1) {\r\n        this.photo1 = photo1;\r\n    }\r\n\r\n    public String getPhoto2() {\r\n        return photo2;\r\n    }\r\n\r\n    public void setPhoto2(String photo2) {\r\n        this.photo2 = photo2;\r\n    }\r\n\r\n    public String getPhoto3() {\r\n        return photo3;\r\n    }\r\n\r\n    public void setPhoto3(String photo3) {\r\n        this.photo3 = photo3;\r\n    }\r\n\r\n    public String getPhoto4() {\r\n        return photo4;\r\n    }\r\n\r\n    public void setPhoto4(String photo4) {\r\n        this.photo4 = photo4;\r\n    }\r\n\r\n    public String getPhoto5() {\r\n        return photo5;\r\n    }\r\n\r\n    public void setPhoto5(String photo5) {\r\n        this.photo5 = photo5;\r\n    }\r\n\r\n    public int getBoosts() {\r\n        return boosts;\r\n    }\r\n\r\n    public void setBoosts(int boosts) {\r\n        this.boosts = boosts;\r\n    }\r\n\r\n    public int getLikes() {\r\n        return likes;\r\n    }\r\n\r\n    public void setLikes(int likes) {\r\n        this.likes = likes;\r\n    }\r\n\r\n    public int getMegasymps() {\r\n        return megasymps;\r\n    }\r\n\r\n    public void setMegasymps(int megasymps) {\r\n        this.megasymps = megasymps;\r\n    }\r\n\r\n    public boolean isVerified() {\r\n        return verified;\r\n    }\r\n\r\n    public void setVerified(boolean verified) {\r\n        this.verified = verified;\r\n    }\r\n\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getUID() {\r\n        return UID;\r\n    }\r\n\r\n    public void setUID(String UID) {\r\n        this.UID = UID;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getBio() {\r\n        return bio;\r\n    }\r\n\r\n    public void setBio(String bio) {\r\n        this.bio = bio;\r\n    }\r\n\r\n    public String getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(String height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public String getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(String weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getFindGender() {\r\n        return findGender;\r\n    }\r\n\r\n    public void setFindGender(String findGender) {\r\n        this.findGender = findGender;\r\n    }\r\n\r\n    public String getHobbies() {\r\n        return hobbies;\r\n    }\r\n\r\n    public void setHobbies(String hobbies) {\r\n        this.hobbies = hobbies;\r\n    }\r\n\r\n    public String getTarget() {\r\n        return target;\r\n    }\r\n\r\n    public void setTarget(String target) {\r\n        this.target = target;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public static void updateUserName(String UID, String newName) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"name\");\r\n        userRef.setValue(newName);\r\n    }\r\n\r\n    public static void updateUserBio(String UID, String newBio) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"bio\");\r\n        userRef.setValue(newBio);\r\n    }\r\n\r\n    public static void updateUserHeight(String UID, String newHeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"height\");\r\n        userRef.setValue(newHeight);\r\n    }\r\n\r\n    public static void updateUserWeight(String UID, String newWeight) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"weight\");\r\n        userRef.setValue(newWeight);\r\n    }\r\n\r\n    public static void updateUserGender(String UID, String newGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"gender\");\r\n        userRef.setValue(newGender);\r\n    }\r\n\r\n    public static void updateUserFindGender(String UID, String newFindGender) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"findGender\");\r\n        userRef.setValue(newFindGender);\r\n    }\r\n\r\n    public static void updateUserHobbies(String UID, String newHobbies) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"hobbies\");\r\n        userRef.setValue(newHobbies);\r\n    }\r\n\r\n    public static void updateUserTarget(String UID, String newTarget) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"target\");\r\n        userRef.setValue(newTarget);\r\n    }\r\n\r\n    public static void updateUserColor(String UID, String newColor) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"color\");\r\n        userRef.setValue(newColor);\r\n    }\r\n\r\n    public static void updateUserStatus(String UID, String newStatus) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"status\");\r\n        userRef.setValue(newStatus);\r\n    }\r\n\r\n    public static void updateUserAge(String UID, int newAge) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"age\");\r\n        userRef.setValue(newAge);\r\n    }\r\n\r\n    public static void updateVerification(String UID, boolean newVerification){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(\"verified\");\r\n        userRef.setValue(newVerification);\r\n    }\r\n\r\n\r\n    public static void updateUserPhoto(String UID, String photoName,String photoURL){\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID).child(photoName);\r\n        userRef.setValue(photoURL);\r\n    }\r\n\r\n    public static void getUserDataFromFirebase(String UID, final OnUserDataListener listener) {\r\n        DatabaseReference userRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(UID);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Users user = dataSnapshot.getValue(Users.class);\r\n                if (user != null) {\r\n                    listener.onDataLoaded(user);\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n\r\n    public interface OnUserDataListener {\r\n        void onDataLoaded(String userName);\r\n\r\n        void onDataLoaded(Users user);\r\n        void onDataNotAvailable();\r\n    }\r\n\r\n    public void saveUserDataToSharedPreferences(Context context) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"UID\", this.UID);\r\n        editor.putString(\"name\", this.name);\r\n        editor.putString(\"bio\", this.bio);\r\n        editor.putString(\"height\", this.height);\r\n        editor.putString(\"weight\", this.weight);\r\n        editor.putString(\"gender\", this.gender);\r\n        editor.putString(\"findGender\", this.findGender);\r\n        editor.putString(\"hobbies\", this.hobbies);\r\n        editor.putString(\"target\", this.target);\r\n        editor.putString(\"color\", this.color);\r\n        editor.putString(\"status\", this.status);\r\n        editor.putString(\"photo1\", this.photo1);\r\n        editor.putString(\"photo2\", this.photo2);\r\n        editor.putString(\"photo3\", this.photo3);\r\n        editor.putString(\"photo4\", this.photo4);\r\n        editor.putString(\"photo5\", this.photo5);\r\n        editor.putInt(\"age\", this.age);\r\n        editor.putInt(\"boosts\", this.boosts);\r\n        editor.putInt(\"likes\", this.likes);\r\n        editor.putInt(\"megasymps\", this.megasymps);\r\n        editor.putBoolean(\"verified\", this.verified);\r\n        editor.apply();\r\n    }\r\n\r\n    public static Users getUserDataFromSharedPreferences(Context context) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(\"UserPrefs\", Context.MODE_PRIVATE);\r\n        String UID = sharedPreferences.getString(\"UID\", \"\");\r\n        String name = sharedPreferences.getString(\"name\", \"\");\r\n        String bio = sharedPreferences.getString(\"bio\", \"\");\r\n        String height = sharedPreferences.getString(\"height\", \"\");\r\n        String weight = sharedPreferences.getString(\"weight\", \"\");\r\n        String gender = sharedPreferences.getString(\"gender\", \"\");\r\n        String findGender = sharedPreferences.getString(\"findGender\", \"\");\r\n        String hobbies = sharedPreferences.getString(\"hobbies\", \"\");\r\n        String target = sharedPreferences.getString(\"target\", \"\");\r\n        String color = sharedPreferences.getString(\"color\", \"\");\r\n        String status = sharedPreferences.getString(\"status\", \"\");\r\n        String photo1 = sharedPreferences.getString(\"photo1\", \"\");\r\n        String photo2 = sharedPreferences.getString(\"photo2\", \"\");\r\n        String photo3 = sharedPreferences.getString(\"photo3\", \"\");\r\n        String photo4 = sharedPreferences.getString(\"photo4\", \"\");\r\n        String photo5 = sharedPreferences.getString(\"photo5\", \"\");\r\n        int age = sharedPreferences.getInt(\"age\", 0);\r\n        int boosts = sharedPreferences.getInt(\"boosts\", 0);\r\n        int likes = sharedPreferences.getInt(\"likes\", 0);\r\n        int megasymps = sharedPreferences.getInt(\"megasymps\", 0);\r\n        boolean verified = sharedPreferences.getBoolean(\"verified\", false);\r\n\r\n        return new Users(UID, name, bio, height, weight, gender, findGender, hobbies, target, color, status, photo1, photo2, photo3, photo4, photo5, age, boosts, likes, megasymps, verified);\r\n    }\r\n\r\n\r\n\r\n    public static void getRandomUserFromPool(String findGender, String gender, final OnUserDataListener listener) {\r\n        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        Query query = usersRef.orderByChild(\"gender\").equalTo(gender);\r\n\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                List<Users> femaleUsers = new ArrayList<>();\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    Users user = snapshot.getValue(Users.class);\r\n                    if (user != null && user.getFindGender().equals(findGender)) {\r\n                        femaleUsers.add(user);\r\n                    }\r\n                }\r\n\r\n                if (!femaleUsers.isEmpty()) {\r\n                    int randomIndex = new Random().nextInt(femaleUsers.size());\r\n                    Users randomFemaleUser = femaleUsers.get(randomIndex);\r\n                    listener.onDataLoaded(randomFemaleUser.getName());\r\n                } else {\r\n                    listener.onDataNotAvailable();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                listener.onDataNotAvailable();\r\n            }\r\n        });\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/meetyou/MYFiles/Users.java b/app/src/main/java/com/example/meetyou/MYFiles/Users.java
--- a/app/src/main/java/com/example/meetyou/MYFiles/Users.java	(revision 6e87de63a3452d6dd8161b3ae30c074e6c0412a3)
+++ b/app/src/main/java/com/example/meetyou/MYFiles/Users.java	(date 1691007182944)
@@ -376,7 +376,7 @@
 
 
 
-    public static void getRandomUserFromPool(String findGender, String gender, final OnUserDataListener listener) {
+    public static void getRandomUserFromPool(String findGender, String gender, String weight, String height, String findHeight, String findWeight, int age, int findMinAge, int findMaxAge,  final OnUserDataListener listener) {
         DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference("Users");
         Query query = usersRef.orderByChild("gender").equalTo(gender);
 
@@ -386,7 +386,7 @@
                 List<Users> femaleUsers = new ArrayList<>();
                 for (DataSnapshot snapshot : dataSnapshot.getChildren()) {
                     Users user = snapshot.getValue(Users.class);
-                    if (user != null && user.getFindGender().equals(findGender)) {
+                    if (user != null && user.getFindGender().equals(findGender) && user.getWeight().equals(findWeight) && user.getHeight().equals(findHeight) ) {
                         femaleUsers.add(user);
                     }
                 }
